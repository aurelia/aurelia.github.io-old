<section class="contact">
  <div class="banner">
    Have an Aurelia engineer get in contact with you today
  </div>
  <form id="contact-form" class="feature-zone">
    <label class="required">
      <span>Your Name</span>
      <input type="text" name="name" />
    </label>
    <label class="required">
      <span>Email Address</span>
      <input type="text" name="email" required />
    </label>
    <label>
      <span>Business Name</span>
      <input type="text" name="business" />
    </label>
    <label>
      <span>Country</span>
      <input type="text" name="country" />
    </label>

    <fieldset>
      <legend>What are you interested in?</legend>
      <label>
        <input type="radio" name="subject" value="enterprise support" />
        <span>Aurelia Enterprise Support</span>
      </label>
      <label>
        <input type="radio" name="subject" value="consulting services" />
        <span>Aurelia Consulting</span>
      </label>
      <label>
        <input type="radio" name="subject" value="Aurelia University" />
        <span>Aurelia University</span>
      </label>
      <label>
        <input type="radio" name="subject" value="Aurelia" />
        <span>Something else</span>
      </label>
    </fieldset>

    <label>
      <span>Tell us more</span>
      <textarea name="details" rows="5"></textarea>
    </label>

    <button type="submit">Send</button>
  </form>
  <script>
    var submitted = false;
    var form = document.getElementById('contact-form');
    console.debug(form ? 'form initialized' : 'form not initialized');
    form.addEventListener('submit', function(event) {
      console.debug('form submit event', event);
      if (!submitted) {
        submitted = true;
        event.preventDefault();
        var xhr = new XMLHttpRequest();
        xhr.open('POST', 'https://hooks.zapier.com/hooks/catch/3763764/qa546d/', true);
        xhr.send(JSON.stringify({
          name: form.name.value,
          email: form.email.value,
          business: form.business.value,
          country: form.country.value,
          subject: form.subject.value,
          details: form.details.value
        }));
      }
      form.reset();
      alert('Thank you! An Aurelia team member will be in contact with you shortly!');
    });
  </script>
</section>
