{"name":"Recipes & known issues","description":"In this section you can find examples of particular setups, known issues and possible workarounds","author":{"name":"Jeroen Vinke","url":"https://jeroenvinke.nl"},"featured":false,"links":{"static":"docs/cli/recipes","html":"docs/cli/recipes/index.html","fragment":"docs/cli/recipes/index-fragment.html","self":"docs/cli/recipes/index.json"},"content":"\n\n## Introduction\nIn this section you can find examples of particular setups, known issues and possible workarounds\n\n## Aurelia-CLI bundler + Docker\n\nWhen using the Aurelia-CLI bundler together with Docker you might notice that the file watcher doesn't pick up changes that are made from the host.\n\nIn order to resolve this you can open `aurelia_project/tasks/watch.js` file (or `watch.ts` when using typescript) and modify the `watchPath` function to use polling:\n\n```JavaScript Build options\nlet watchPath = (p) => {\n  gulpWatch(\n    p,\n    {\n      read: false,\n      verbose: true,\n      usePolling: true\n    },\n    (vinyl) => processChange(vinyl));\n};\n```\n\nMore information on this problem be found in [this issue](https://github.com/floatdrop/gulp-watch/issues/174).\n\n## NPM uninstalling packages\nIf you're on NPM 5.6.0 (`npm -v`) then you might experience strange behavior when you're trying to install a package (using `npm install`). This should be resolved with version 5.7.0 of NPM.\n\n## Building with TFS\n\nTFS sets readonly attribute on non checked out files. Depending on the selected environment corresponding file from `aurelia_project/environments/` folder copied as `src/environment.ts`. On first build there is no such destination file, so build succeeds. As enviroment files usually are not checked out (no so much to edit), the destination file would also have readonly attribute. This lead to subsequent builds failure until the destination file either removed or readonly attribute unset. On sunsequent build readonly attribute will be set again.\n\nIn order to resolve this you can open `aurelia_project/tasks/environment.js` file (or `environment.ts` when using typescript) and add destination file removal code between `rename` and `gulp.dest`:\n\n```JavaScript\n    // ...\n    .pipe(rename(`environment${project.transpiler.fileExtension}`))\n\n    // add this code to remove destination file first\n    .pipe(through.obj(function (file, enc, cb) {\n      fs.unlink(`${project.paths.root}/${file.relative}`, function() { cb(null, file); });\n    }))\n\n    .pipe(gulp.dest(project.paths.root))\n    // ...\n```\n\nMore information on this problem be found in [this issue](https://github.com/aurelia/cli/issues/1031).\n\nAlso it would be wise to rename `.gitignore` to `.tfignore`."}