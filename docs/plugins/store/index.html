<!DOCTYPE html>
<html>

<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-38441871-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  </script>

  <meta charset="utf-8">
  <title>Managing App State | Aurelia</title>
  <base href="/">
  <meta name="msapplication-tap-highlight" content="no" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">

  <meta name="description" content="Using the Aurelia Store plugin for predictable state management."/>
  <meta name="robots" content="index,follow"/>

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:200,400,700" rel="stylesheet">
  <link rel="stylesheet" href="styles/aurelia-docs.css">
  <link rel="alternate" type="application/rss+xml" title="The official Aurelia blog" href="/blog/rss/index.xml" />
</head>

<body aurelia-app="main" id="app-host">
  <header class="app-header">
    <img src="styles/images/logo.svg" class="logo">
      <a class="header-button" title="Get the Newsletter" href="http://eepurl.com/ces50j">Get the Newsletter</a>
    <search-trigger></search-trigger>
  </header>

  <main ref="main">
    <div screen-activator.bind="activeScreen" screen-activated.trigger="onScreenActivated()" class="screen-activator">
      <section class="article">
  <header>
    <h1>Managing App State</h1>
    <h2>Using the Aurelia Store plugin for predictable state management.</h2>
  </header>

  <article class="markdown">
    <section><h2 id="introduction">Introduction</h2><p>This article covers the Store plugin for Aurelia. It is built on top of two core features of 
<a href="http://reactivex.io/rxjs/" target="_blank">RxJS</a>
, namely Observables and the BehaviorSubject. You don't have to delve into the reactive universe - in fact, you'll barely notice it at the beginning. But you can certainly benefit from having some knowledge about RxJS in order to use it wisely.</p>
<p>Various examples, demonstrating individual pieces of the plugin, can be found in the 
<a href="https://github.com/zewa666/aurelia-store-examples" target="_blank">samples repository</a>
.</p>
<h3>Reasons for state management</h3>
<p>A lot of modern development approaches leverage a single store, which acts as a central basis of your app. The idea is that it holds all data that makes up your application. The content of your store is your application's state. If you will, the app state is a snapshot of all data at a specific moment in time. You modify that by using Actions, which are the only way to manipulate the global state, and create the next app state.</p>
<p>Contrast this to classic service-oriented approaches, where data is split amongst several service entities. What turns out to be a simpler approach, in the beginning, especially combined with a powerful IoC Container, can become a problem once the size of the app grows. Not only do you start to get increased complexity and inter-dependency of your services, but keeping track of who modified what and how to notify every component about a change can become tricky.</p>
<p>Leveraging a single store approach, there is only one source of truth for your data and all modifications happen in a predictable way, potentially leading to a <em>more</em> side-effect-free overall application.</p>
<h3>Why is RxJS used for this plugin?</h3>
<p>As mentioned in the intro this plugin uses RxJS as a foundation. The main idea is having a 
<a href="http://reactivex.io/rxjs/manual/overview.html#behaviorsubject" target="_blank">BehaviorSubject</a>
 <code>store._state</code> which will store the current state. It starts with some initial state and emits new states as they come. The BehaviorSubject cannot be accessed directly - it is defined as private - but instead a public Observable named <code>state</code> should be consumed. This way consumers only have reading access to streamed values but cannot directly manipulate the streaming queue through the Subjects <code>next</code> method.</p>
<p>But besides these core features, RxJS itself can be described as <em>
<a href="http://reactivex.io/rxjs/manual/overview.html#introduction" target="_blank">Lodash/Underscore for events</a>
</em>. As such all of the operators and objects can be used to manipulate the state in whatever way necessary. As an example 
<a href="http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-pluck" target="_blank">pluck</a>
 can be used to pierce into a sub-section of the state, whereas methods like 
<a href="http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-skip" target="_blank">skip</a>
 and 
<a href="http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-take" target="_blank">take</a>
 are great ways to unit test the stream of states over time.</p>
<p>The main reason for using RxJS though is that observables are delivered over time. This promotes a reactive approach to how you'd design your application. Instead of pursuing an imperative approach like <strong>a click on button A</strong> should <strong>trigger a re-rendering on component B</strong>, we follow an 
<a href="https://en.wikipedia.org/wiki/Observer_pattern" target="_blank">Observer Pattern</a>
 where <strong>component B observes a global state</strong> and <strong>acts on changes</strong>, which are <strong>triggered through actions by button A</strong>.</p>
<p>Broken down to the concepts of Aurelia, as depicted in the following chart, this means that a ViewModel subscribes to the single store and sets up a state subscription. The view directly binds to properties of the state. Actions can be dispatched and trigger the next state emit. Now the initial subscription receives the next state and changes the bound variable, Aurelia automatically figures out what changed and triggers a re-render. The next dispatch will then trigger the next cycle and so on. This way the system behaves in a cyclic, reactive way and sees state changes as requests for a re-rendering.</p>
<p><img src="docs/plugins/store/images/chart_store_workflow.png" alt="Chart workflow" /></p>
<p>A fundamental benefit of that approach is that you as a developer do not need to think of signaling individual components about changes, but rather they will all listen and react to changes by themselves if the respective part of the state gets modified. Think of it as an event dispatch, where multiple recipients can listen for and perform changes but with the benefit of a formalized global state. As such, all you need to focus on is the state and the rest will be handled automatically.</p>
<p>Another benefit is the async nature of the subscription. No matter whether the action is a synchronous operation, like changing the title of your page, an Ajax request to fetch the latest products or a long-running web-socket for your next chat application: whenever you dispatch the next action, listeners will react to these changes.</p>
</section>
<section><h2 id="getting-started">Getting Started</h2><p>Install the npm dependency via</p>

<code-listing>
  
<source-code lang="Shell" heading="">
  <pre class="language-powershell">
    <code>
  npm install aurelia<span class="token operator">-</span>store
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>or using 
<a href="https://yarnpkg.com" target="_blank">Yarn</a>
</p>

<code-listing>
  
<source-code lang="Shell" heading="">
  <pre class="language-powershell">
    <code>
  yarn add aurelia<span class="token operator">-</span>store
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
If you're not using RxJS at all so far it is recommended to run <code>npm install rxjs</code> which should install the latest available rxjs (currently 6.x.x) version as a project dependency.</p>
</div>
<div class="info"><div class="icon"> <i></i> </div><p>
With the recent release of RxJS v.6, which this plugin depends on, quite a lot has changed. There are new ways to import dependencies and ways to keep compatibility with previous API versions. Take a look at the 
<a href="https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md" target="_blank">following upgrade instructions</a>
 for further details.</p>
</div>
</section>
<section><h2 id="bring-your-own-polyfills-byop">Bring your own polyfills (BYOP)</h2><p>This plugin depends on the 
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries#Polyfill" target="_blank">Object.entries feature</a>
 which is not available in Internet Explorer out of the box.</p>
<p>Since it's not actually needed for the core of Aurelia, it won't be part of 
<a href="https://github.com/aurelia/polyfills" target="_blank">aurelia-polyfills</a>
 and you should add the following polyfill by yourself.</p>
<p>In case of the Aurelia CLI with RequireJS/SystemJS you can either create a new <code>object.entries.polyfill.js</code> file in the root of your project and add it into the configuration file <code>aurelia.json</code> in the prepend section.</p>

<code-listing>
  
<source-code lang="JavaScript" heading="">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// object.entries.polyfill.js</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>entries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function-variable function">entries</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> ownProps <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span>
        i <span class="token operator">=</span> ownProps<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        resArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// preallocate the Array</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>ownProps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span>ownProps<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
  
      <span class="token keyword">return</span> resArray<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Alternatively you can include the file via a script tag as one of the first scripts in your <code>index.html</code>.</p>
</section>
<section><h2 id="what-is-the-state">What is the State?</h2><p>A typical application consists of multiple components, which render various data. Besides actual data though, your components also contain various statuses. An &quot;active&quot; status for a toggle button for example, but also high-level statuses like the selected theme or the current page.
State that is contained within the component is a good thing, as long as only that single component instance cares about it. But the moment you reference that state from another component, you're going to need a way to communicate about that state, like service classes. Pub-sub mechanisms like the EventAggregator are another example of inter-component communication.</p>
<p>In contrast to that, the Store plugin operates on a single overall application state. Think of it as a large object containing all the sub-states reflecting your applications condition at a specific moment in time. This state object needs to only contain serializable properties. With that you gain the benefit of having snapshots of your app, which allow all kinds of cool features like time-traveling, save/reload and so on.</p>
<p>How much you put into your state is up to you, but a good rule of thumb is that as soon as two different areas of your application consume the same data or affect the same component state you should store them.</p>
<p>Your app will typically start with an initial state, which is then manipulated throughout the app's lifecycle. As mentioned this state can be pretty much anything, like shown in the example below. Whether you prefer TypeScript or pure JavaScript is up to you, but having a typed state allows for easier refactoring and better autocompletion support.</p>

<code-listing heading="Defining the State entity and initialState">
  
<source-code lang="JavaScript" heading="Defining the State entity and initialState">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// there is no need for a dedicated entity in JavaScript</span>
  
  <span class="token comment">// state.js</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span>
    frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Aurelia'</span><span class="token punctuation">,</span> <span class="token string">'React'</span><span class="token punctuation">,</span> <span class="token string">'Angular'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Defining the State entity and initialState">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// state.ts</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
    frameworks<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">export</span> <span class="token keyword">const</span> initialState<span class="token punctuation">:</span> State <span class="token operator">=</span> <span class="token punctuation">{</span>
    frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'Aurelia'</span><span class="token punctuation">,</span> <span class="token string">'React'</span><span class="token punctuation">,</span> <span class="token string">'Angular'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="configuring-your-app">Configuring your app</h2><p>In order to tell Aurelia how to use the plugin, we need to register it. This is done in your app's <code>main</code> file, specifically the <code>configure</code> method. We'll have to register the Store using our previously defined State entity:</p>

<code-listing heading="Registering the plugin">
  
<source-code lang="JavaScript" heading="Registering the plugin">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Aurelia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> initialState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> initialState <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &lt;----- REGISTER THE PLUGIN</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering the plugin">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Aurelia <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> initialState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">:</span> Aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> initialState <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &lt;----- REGISTER THE PLUGIN</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>With this done we're ready to consume our app state and dive into the world of state management.</p>
</section>
<section><h2 id="subscribing-to-the-stream-of-states">Subscribing to the stream of states</h2><p>As explained in the beginning, the Aurelia Store plugin provides a public observable called <code>state</code> which will stream the app's states over time. So in order to consume it, we first need to inject the store via dependency injection into the constructor. Next, inside the <code>bind</code> lifecycle method we are subscribing to the store's <code>state</code> property. Inside the subscription's <em>handler</em> we'll have the actually streamed state and may assign it to the component's local state property. And let's not forget to dispose of the subscription once the component becomes unbound. This happens by calling the subscription's <code>unsubscribe</code> method.</p>

<code-listing heading="Injecting the store and creating a subscription">
  
<source-code lang="JavaScript" heading="Injecting the store and creating a subscription">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-dependency-injection'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>subscription<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Injecting the store and creating a subscription">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> autoinject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-dependency-injection'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  
    <span class="token keyword">public</span> state<span class="token punctuation">:</span> State<span class="token punctuation">;</span>
    <span class="token keyword">private</span> subscription<span class="token punctuation">:</span> Subscription<span class="token punctuation">;</span>
  
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>subscription <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">unbind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>subscription<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
Note that in the TypeScript version we didn't have to type-cast the state variable provided to the subscription handler since the initial store was injected using the <code>State</code> entity as a generic provider.</p>
</div>
<p>With that in place the state can be consumed as usual directly from within your template:</p>

<code-listing heading="Subscribing to the state property">
  
<source-code lang="HTML" heading="Subscribing to the state property">
  <pre class="language-markup">
    <code>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Frameworks<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">repeat.for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>framework of state.frameworks<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>${framework}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Since you've subscribed to the state, every new version of the state that arrives will again be assigned to the component's <code>state</code> property and the UI automatically re-rendered, based on the details that changed.</p>
</section>
<section><h2 id="subscribing-with-the-connectto-decorator">Subscribing with the connectTo decorator</h2><p>In the previous section, you've seen how to manually bind to the state observable for full control.
But instead of handling subscriptions and disposal of those by yourself, you may prefer to use the <code>connectTo</code> decorator.
What it does is to connect your store's state automatically to a class property called <code>state</code>. It does so by overriding the
<code>bind</code> and <code>unbind</code> life-cycle methods for a proper setup and teardown of the state subscription, which will be stored in a property called <code>_stateSubscription</code>.</p>
<p>The above ViewModel example could look like this using the <code>connectTo</code> decorator:</p>

<code-listing heading="Using the connectTo decorator">
  
<source-code lang="JavaScript" heading="Using the connectTo decorator">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> connectTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Using the connectTo decorator">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> connectTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  
    <span class="token keyword">public</span> state<span class="token punctuation">:</span> State<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
Notice how we've declared the public state property of type <code>State</code> in the TS version. The sole reason for that is to have proper type hinting during compile time.</p>
</div>
<p>In case you want to provide a custom selector instead of subscribing to the whole state, you may provide a function, which will receive the store and should return an observable to be used instead of the default <code>store.state</code>. The decorator accepts a generic interface which matches your State, for a better TypeScript workflow.</p>

<code-listing heading="Sub-state selection">
  
<source-code lang="JavaScript" heading="Sub-state selection">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Sub-state selection">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>If you need more control and for instance want to override the default target property <code>state</code>, you can pass a settings object instead of a function, where the sub-state <code>selector</code> matches above function and <code>target</code> specifies the new target holding the received state.</p>

<code-listing heading="Defining the selector and target">
  
<source-code lang="JavaScript" heading="Defining the selector and target">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span> <span class="token comment">// link to currentState instead of state property</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Defining the selector and target">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span> <span class="token comment">// link to currentState instead of state property</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>If you want to have multiple selectors, you can pass an object to the <code>selector</code>, where each property in that <code>selector</code> object defines a new <code>target</code> receiving the slice of the state. The value of each property should be a function as shown above matching above.</p>

<code-listing heading="Defining multiple selectors">
  
<source-code lang="JavaScript" heading="Defining multiple selectors">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      currentState<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Defining multiple selectors">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      currentState<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>You can still provide a <code>target</code> with multiple selectors, which changes the behavior of multiple selectors. Instead of having multiple target properties on your view model for each selector name, the <code>target</code> will be an object on your view model and the multiple selector names will be the properties on that object.</p>

<code-listing heading="Defining multiple selectors with a target">
  
<source-code lang="JavaScript" heading="Defining multiple selectors with a target">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      currentState<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentState<span class="token punctuation">.</span>frameworks<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentState<span class="token punctuation">.</span>databases<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Defining multiple selectors with a target">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentState<span class="token punctuation">.</span>frameworks<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentState<span class="token punctuation">.</span>databases<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Not only the target but also the default <code>setup</code> and <code>teardown</code> methods can be specified, either one or both. The hooks <code>bind</code> and <code>unbind</code> act as the default value.</p>

<code-listing heading="Overriding the default setup and teardown methods">
  
<source-code lang="JavaScript" heading="Overriding the default setup and teardown methods">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
    setup<span class="token punctuation">:</span> <span class="token string">'create'</span>        <span class="token comment">// create the subscription inside the create life-cycle hook</span>
    teardown<span class="token punctuation">:</span> <span class="token string">'deactivate'</span> <span class="token comment">// do the disposal in deactivate</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Overriding the default setup and teardown methods">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
    setup<span class="token punctuation">:</span> <span class="token string">'create'</span>        <span class="token comment">// create the subscription inside the create life-cycle hook</span>
    teardown<span class="token punctuation">:</span> <span class="token string">'deactivate'</span> <span class="token comment">// do the disposal in deactivate</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
The provided action names for setup and teardown don't necessarily have to be one of the official 
<a href="http://aurelia.io/docs/fundamentals/components#the-component-lifecycle" target="_blank">lifecycle methods</a>
 but should be used as these get called automatically by Aurelia at the proper time.</p>
</div>
<p>Last but not least you can also handle changes from the state in multiple ways</p>
<p>The decorator will attempt to call <code>stateChanged(newState, oldState)</code> when no settings are passed, a function is used or an object settings is used with selector.</p>

<code-listing heading="Default change stateChanged handling">
  
<source-code lang="JavaScript" heading="Default change stateChanged handling">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token operator">...</span>
  
  <span class="token comment">// All of these have the same change handling</span>
  <span class="token comment">// @connectTo({</span>
  <span class="token comment">//   selector: (store) => store.state.pipe(pluck('frameworks')),</span>
  <span class="token comment">// })</span>
  <span class="token comment">// OR</span>
  <span class="token comment">// @connectTo((store) => store.state.pipe(pluck('frameworks')))</span>
  <span class="token comment">// OR</span>
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">stateChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Default change stateChanged handling">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token operator">...</span>
  
  <span class="token comment">// All of these have the same change handling</span>
  <span class="token comment">// @connectTo&lt;State>({</span>
  <span class="token comment">//   selector: (store) => store.state.pipe(pluck('frameworks')),</span>
  <span class="token comment">// })</span>
  <span class="token comment">// OR</span>
  <span class="token comment">// @connectTo&lt;State>((store) => store.state.pipe(pluck('frameworks')))</span>
  <span class="token comment">// OR</span>
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">stateChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Providing a target name without multiple selectors calls the<code>target</code>Changed method instead.</p>

<code-listing heading="Default change handling with target">
  
<source-code lang="JavaScript" heading="Default change handling with target">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">currentStateChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Default change handling with target">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">currentStateChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>With multiple selectors, you get the same change handling per selector.</p>

<code-listing heading="Default change handling with multiple selectors">
  
<source-code lang="JavaScript" heading="Default change handling with multiple selectors">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">frameworksChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">databasesChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Default change handling with multiple selectors">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">frameworksChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">databasesChanged</span><span class="token punctuation">(</span>newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>However, providing a <code>target</code> with multiple selectors changes the prior behavior by calling the <code>target</code>Changed method with 3 arguments instead of each individual selector with 2 arguments. You get access to individual state being changed from the first argument.</p>

<code-listing heading="Default change handling with multiple selectors and target">
  
<source-code lang="JavaScript" heading="Default change handling with multiple selectors and target">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">currentStateChanged</span><span class="token punctuation">(</span>stateName<span class="token punctuation">,</span> newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// this will be called twice:</span>
      <span class="token comment">//   once for stateName='frameworks'</span>
      <span class="token comment">//   once for stateName='databases'</span>
  
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Default change handling with multiple selectors and target">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token punctuation">:</span> <span class="token string">'currentState'</span><span class="token punctuation">,</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      databases<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'databases'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">currentStateChanged</span><span class="token punctuation">(</span>stateName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// this will be called twice:</span>
      <span class="token comment">//   once for stateName='frameworks'</span>
      <span class="token comment">//   once for stateName='databases'</span>
  
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Last but not least you can also define a callback to be called with the next state once a state change happens.</p>

<code-listing heading="Define an onChanged handler">
  
<source-code lang="JavaScript" heading="Define an onChanged handler">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as above</span>
    onChanged<span class="token punctuation">:</span> <span class="token string">'changeHandler'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">changeHandler</span><span class="token punctuation">(</span>newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Define an onChanged handler">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> pluck <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'rxjs/operators'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token operator">=></span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'frameworks'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    onChanged<span class="token punctuation">:</span> <span class="token string">'changeHandler'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">changeHandler</span><span class="token punctuation">(</span>newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>For any one of these configuration, you can add an additional change handling function called <code>propertyChanged</code> that will be called last. This has 3 arguments, the state name being changed, the new state and the old state.</p>

<code-listing heading="Default change handling with propertyChanged">
  
<source-code lang="JavaScript" heading="Default change handling with propertyChanged">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token operator">...</span>
  
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">propertyChanged</span><span class="token punctuation">(</span>stateName<span class="token punctuation">,</span> newState<span class="token punctuation">,</span> oldState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// stateName will be "state"</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Default change handling with propertyChanged">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token operator">...</span>
  
  @connectTo<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  
    <span class="token function">propertyChanged</span><span class="token punctuation">(</span>stateName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> newState<span class="token punctuation">:</span> State<span class="token punctuation">,</span> oldState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// stateName will be "state"</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The state has changed'</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
Your change handler function will be called before the target property is changed. This way you have access to both the current and previous state.
If you provide an <code>onChanged</code> handler, then you could have up to 3 change handling methods in your view model (called in order): the <code>onChanged</code> method, the <code>target</code>Changed method and the <code>propertyChanged</code> method.</p>
</div>
<p>Next, let's find out how to produce state changes.</p>
</section>
<section><h2 id="what-are-actions">What are actions?</h2><p>Actions are the primary way to create a new state. They are essentially functions which take the current state and optionally one or more arguments.
Their job is to create the next state and return it. By doing so they should not mutate the passed-in current state but instead use immutable functions to create a proper clone. The reason for that is that each state represents a unique snapshot of your app in time. By modifying it, you'd alter the state and wouldn't be able to properly compare the old and new state. It would also mean that advanced features such as time-traveling through states wouldn't work properly anymore.
So keep in mind ... don't mutate your state.</p>
<div class="info"><div class="icon"> <i></i> </div><p>
In case you're not a fan of functional approaches take a look at libraries like 
<a href="https://github.com/mweststrate/immer" target="_blank">Immer.js</a>
, and the 
<a href="https://github.com/zewa666/aurelia-store-examples#immer" target="_blank">Aurelia store example</a>
 using it: this lets you act like you're mutating the state object but secretly you're getting a proper clone.</p>
</div>
<p>Continuing with above framework example, let's say we want to make an action to add an additional framework to the list.
You can create a &quot;shallow&quot; clone of the state by using <code>Object.assign</code>. By saying shallow we mean that the actual <code>frameworks</code> array in the new state object will just be a reference to the original one. So in order to fix that we can use the array spread syntax with the name of the new framework to create a fresh array.</p>

<code-listing heading="A simple action">
  
<source-code lang="JavaScript" heading="A simple action">
  <pre class="language-javascript">
    <code>
  <span class="token keyword">const</span> <span class="token function-variable function">demoAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> frameworkName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    newState<span class="token punctuation">.</span>frameworks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newState<span class="token punctuation">.</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="A simple action">
  <pre class="language-typescript">
    <code>
  <span class="token keyword">const</span> <span class="token function-variable function">demoAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">:</span> State<span class="token punctuation">,</span> frameworkName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    newState<span class="token punctuation">.</span>frameworks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newState<span class="token punctuation">.</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Next, we need to register the created action with the store. That is done by calling the store's <code>registerAction</code> method. By doing so we can provide a name which will be used for all kinds of error-handlers, logs, and even Redux DevTools. As a second argument, we pass the action itself.</p>

<code-listing heading="Registering an action">
  
<source-code lang="JavaScript" heading="Registering an action">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-dependency-injection'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering an action">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> autoinject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-dependency-injection'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  
    <span class="token keyword">public</span> state<span class="token punctuation">:</span> State<span class="token punctuation">;</span>
  
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>You can unregister actions whenever needed by using the store's <code>unregisterAction</code> method</p>

<code-listing heading="Unregistering an action">
  
<source-code lang="JavaScript" heading="Unregistering an action">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token operator">...</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">unregisterAction</span><span class="token punctuation">(</span>demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Unregistering an action">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token operator">...</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  
    <span class="token operator">...</span>
  
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">unregisterAction</span><span class="token punctuation">(</span>demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="async-actions">Async actions</h2><p>Previously we mentioned that an action should return a state. What we didn't mention is that actions can also return a promise which will eventually resolve with the new state.</p>
<p>From the above example, imagine we'd have to validate the given name, which happens in an async manner.</p>

<code-listing heading="An async action">
  
<source-code lang="JavaScript" heading="An async action">
  <pre class="language-javascript">
    <code>
  <span class="token keyword">function</span> <span class="token function">validateAsync</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">'Angular'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Try using a different framework'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> demoAction <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> frameworkName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> validatedName <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">validateAsync</span><span class="token punctuation">(</span>frameworkName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    newState<span class="token punctuation">.</span>frameworks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newState<span class="token punctuation">.</span>frameworks<span class="token punctuation">,</span> validatedName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="An async action">
  <pre class="language-typescript">
    <code>
  <span class="token keyword">function</span> <span class="token function">validateAsync</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">'Angular'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Try using a different framework'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> demoAction <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>state<span class="token punctuation">:</span> State<span class="token punctuation">,</span> frameworkName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> validatedName <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">validateAsync</span><span class="token punctuation">(</span>frameworkName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    newState<span class="token punctuation">.</span>frameworks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newState<span class="token punctuation">.</span>frameworks<span class="token punctuation">,</span> validatedName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
You don't have to use async/await but it's highly recommended to use it for better readability whenever you can.</p>
</div>
</section>
<section><h2 id="dispatching-actions">Dispatching actions</h2><p>So far we've just created an action and registered it by several means. Now let's look at how we can actually execute one of them to trigger the next state change.
We can use the store method <code>dispatch</code> to do exactly that. In the example below, the function <code>dispatchDemo</code> can be called with an argument <code>nextFramework</code>.
Inside we call <code>store.dispatch</code>, passing it the action itself and all subsequent parameters required.
Alternatively we can also provide the previously registered name instead.</p>

<code-listing heading="Dispatching an action">
  
<source-code lang="JavaScript" heading="Dispatching an action">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-dependency-injection'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store<span class="token punctuation">,</span> connectTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">public</span> <span class="token function">dispatchDemo</span><span class="token punctuation">(</span>nextFramework<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>demoAction<span class="token punctuation">,</span> nextFramework<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
      <span class="token comment">// or</span>
      <span class="token comment">// this.store.dispatch('DemoAction', nextFramework);</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Dispatching an action">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> autoinject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-dependency-injection'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store<span class="token punctuation">,</span> connectTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">connectTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
  
    <span class="token keyword">public</span> state<span class="token punctuation">:</span> State<span class="token punctuation">;</span>
  
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">public</span> <span class="token function">dispatchDemo</span><span class="token punctuation">(</span>nextFramework<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>demoAction<span class="token punctuation">,</span> nextFramework<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
      <span class="token comment">// or</span>
      <span class="token comment">// this.store.dispatch('DemoAction', nextFramework);</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Now keep in mind that an action might be async (really any middleware might be - you'll learn more about middleware later), and as such if you depend on the state being updated right after dispatching an action, make sure to <code>await</code> the call to <code>dispatch</code>.</p>
<p>The choice whether you dispatch using the actual action function or its previously registered name is up to you. It might
be less work just forwarding a string. That way you don't need to import the action from wherever you want to dispatch
it. On the other hand using the actual function is a helpful mechanism to make sure your app survives a refactoring session. Imagine you'd rename the action's name but forgot to update all the places that dispatch it. A long night of debugging might be just around the corner ;)</p>
<div class="info"><div class="icon"> <i></i> </div><p>
Dispatching non-registered actions will result in an error.</p>
</div>
</section>
<section><h2 id="using-the-dispatchify-higher-order-function">Using the dispatchify higher order function</h2><p>Perhaps you don't want to or can't obtain a reference to the store, but you'd still like to dispatch your actions.
This is especially useful if you don't want your child-elements to have any knowledge of the actual logic and just receive actions via attributes. Children can then call this method directly in the template.
In order to do so, you can leverage the higher order function <code>dispatchify</code>. What it does is return a wrapped new function which will obtain the store by itself and forward the provided arguments directly to <code>store.dispatch</code>.</p>

<code-listing heading="Forwarding a dispatchable function as argument to child-elements">
  
<source-code lang="JavaScript" heading="Forwarding a dispatchable function as argument to child-elements">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// framework-list.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inlineView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> dispatchify <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">addFramework</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> frameworkName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    newState<span class="token punctuation">.</span>frameworks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newState<span class="token punctuation">.</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  @<span class="token function">inlineView</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    &lt;template>
      &lt;require from="./framework-item">&lt;/require>
      &lt;framework-item add.bind="addFramework">&lt;/framework-item>
    &lt;/template>
  `</span></span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FrameworkList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>addFramework <span class="token operator">=</span> <span class="token function">dispatchify</span><span class="token punctuation">(</span>addFramework<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// framework-item.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> bindable<span class="token punctuation">,</span> inlineView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inlineView</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    &lt;template>
      New framework name:
      &lt;input value.bind="newFrameworkName">
      &lt;button click.trigger="add(newFrameworkName)" >Add&lt;/button>
    &lt;/template>
  `</span></span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FrameworkItem</span> <span class="token punctuation">{</span>
    @bindable add<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Forwarding a dispatchable function as argument to child-elements">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// framework-list.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inlineView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> dispatchify <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">addFramework</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">:</span> State<span class="token punctuation">,</span> frameworkName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newState <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
    newState<span class="token punctuation">.</span>frameworks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>newState<span class="token punctuation">.</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> newState<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  @<span class="token function">inlineView</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    &lt;template>
      &lt;require from="./framework-item">&lt;/require>
      &lt;framework-item add.bind="addFramework">&lt;/framework-item>
    &lt;/template>
  `</span></span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FrameworkList</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> addFramework <span class="token operator">=</span> <span class="token function">dispatchify</span><span class="token punctuation">(</span>addFramework<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// framework-item.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> bindable<span class="token punctuation">,</span> inlineView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inlineView</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    &lt;template>
      New framework name:
      &lt;input value.bind="newFrameworkName">
      &lt;button click.trigger="add(newFrameworkName)" >Add&lt;/button>
    &lt;/template>
  `</span></span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">FrameworkItem</span> <span class="token punctuation">{</span>
    @bindable add<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>With this approach, you can design your custom elements to act either as presentational or container components. For further information take a look at 
<a href="http://pragmatic-coder.net/using-a-state-container-with-aurelia/" target="_blank">this article</a>
.</p>
</section>
<section><h2 id="resetting-the-store-to-a-specific-state">Resetting the store to a specific state</h2><p>Occasionally it might be necessary to <em>reset</em> the store to a specific state, without running through it built-in queue and thus without notifying middlewares.
A use case for this can be restoring the initial state or time-travelling with the Redux-DevTools extension. To do so use the method <code>resetToState</code> and pass in the desired state.
The result will be that a new state is emitted and your subscriptions will receive it.</p>
<blockquote>
<p>Keep in mind that this feature should be used with caution as it might introduce unintended side effects, especially in collaboration with the Redux DevTools, as the reset states are not tracked by it.</p>
</blockquote>
</section>
<section><h2 id="two-way-binding-and-state-management">Two-way binding and state management</h2><p>Two-way binding definitely has its merits when it comes to easily develop applications. By having Aurelia take care of synchronizing of the View and ViewModel a lot of work gets done for free.
This behavior though becomes troublesome when working with a central state management. Remember, the primary vision is to do state modifications only via dispatching actions. This way we guarantee a single source of truth and no side-effects.
Yet exactly the later is what a two-way binding introduces if you bind your VM directly to state objects. So instead of two-way binding to state objects you should:</p>
<ul>
<li>Create a new property, reflecting the state part you'd like to modify and bind to that.</li>
<li>When changes are made, persist the changes by dispatching an action which uses the binding models values</li>
<li>After dispatching make sure to update the binding model to match any updates to the object happening during dispatch</li>
</ul>

<code-listing heading="Using binding models instead of the state">
  
<source-code lang="JavaScript" heading="Using binding models instead of the state">
  <pre class="language-javascript">
    <code>
  <span class="token comment">/*
    * state: {
    *  firstName: string,
    *  lastName: string
    * }
    */</span>
  
  <span class="token comment">// app.js</span>
  <span class="token operator">...</span>
  
  <span class="token keyword">function</span> <span class="token function">updateUser</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> model<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  @<span class="token function">inlineView</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    &lt;template>
      Firstname: &lt;input type="text" value.bind="model.firstName">
      Lastname: &lt;input type="text" value.bind="model.lastName">
      &lt;button click.delegate="updateUser()">Update&lt;/button>
    &lt;/template>
  `</span></span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'updateUser'</span><span class="token punctuation">,</span> updateUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> newState<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// take care of shallow cloning</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>updateUser<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Using binding models instead of the state">
  <pre class="language-typescript">
    <code>
  <span class="token comment">/*
    * state: {
    *  firstName: string,
    *  lastName: string
    * }
    */</span>
  
  <span class="token comment">// app.ts</span>
  <span class="token operator">...</span>
  
  <span class="token keyword">function</span> <span class="token function">updateUser</span><span class="token punctuation">(</span>state<span class="token punctuation">:</span> State<span class="token punctuation">,</span> model<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> model<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">inlineView</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`
    &lt;template>
      Firstname: &lt;input type="text" value.bind="model.firstName">
      Lastname: &lt;input type="text" value.bind="model.lastName">
      &lt;button click.delegate="updateUser()">Update&lt;/button>
    &lt;/template>
  `</span></span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> state<span class="token punctuation">:</span> State<span class="token punctuation">;</span>
    <span class="token keyword">public</span> model<span class="token punctuation">:</span> State<span class="token punctuation">;</span>
  
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'updateUser'</span><span class="token punctuation">,</span> updateUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> newState<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> newState<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// take care of shallow cloning</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>updateUser<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Alternatively you can resort to only using <code>one-time</code>, <code>to-view</code>, <code>one-way</code> and handle the updates yourself.</p>
</section>
<section><h2 id="recording-a-navigable-history-of-the-stream-of-states">Recording a navigable history of the stream of states</h2><p>Since the whole concept of this plugin is to stream states over time, it makes sense to also keep track of the historical changes. Aurelia Store supports this feature by turning on the history support during the plugin registration.</p>

<code-listing heading="Registering the plugin with history support">
  
<source-code lang="JavaScript" heading="Registering the plugin with history support">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>Aurelia<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>initialState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialState<span class="token punctuation">,</span>
      history<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        undoable<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">REGISTER</span> <span class="token constant">THE</span> <span class="token constant">PLUGIN</span> <span class="token constant">WITH</span> <span class="token constant">THE</span> <span class="token constant">HISTORY</span> <span class="token constant">FEATURE</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering the plugin with history support">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>Aurelia<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>initialState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">:</span> Aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialState<span class="token punctuation">,</span>
      history<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        undoable<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">REGISTER</span> <span class="token constant">THE</span> <span class="token constant">PLUGIN</span> <span class="token constant">WITH</span> <span class="token constant">THE</span> <span class="token constant">HISTORY</span> <span class="token constant">FEATURE</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Now when you subscribe to new state changes, instead of a simple State you'll get a <code>StateHistory&lt;State&gt;</code> object returned, which looks like the following:</p>

<code-listing>
  
<source-code lang="TypeScript" heading="">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// aurelia-store -> history.ts</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">StateHistory</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span> <span class="token punctuation">{</span>
    past<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    present<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
    future<span class="token punctuation">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>

<code-listing heading="Subscribing to the state history">
  
<source-code lang="JavaScript" heading="Subscribing to the state history">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Subscribing to the state history">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> autoinject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store<span class="token punctuation">,</span> StateHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>StateHistory<span class="token operator">&lt;</span>State<span class="token operator">>></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>state<span class="token punctuation">:</span> StateHistory<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="making-our-app-history-aware">Making our app history-aware</h2><p>Now keep in mind that every action will receive a <code>StateHistory&lt;T&gt;</code> as input and should return a new <code>StateHistory&lt;T&gt;</code>.
You can use the <code>nextStateHistory</code> helper function to easily push your new state and create a proper StateHistory representation, which will simply move the currently present state to the past, place your provided one as the present and remove the future states.</p>

<code-listing heading="A StateHistory-aware action">
  
<source-code lang="JavaScript" heading="A StateHistory-aware action">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> nextStateHistory<span class="token punctuation">,</span> StateHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">demoAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> frameworkName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">nextStateHistory</span><span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// The same as returning a handcrafted object like</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">demoAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> frameworkName<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      currentState<span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        past<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>currentState<span class="token punctuation">.</span>past<span class="token punctuation">,</span> currentState<span class="token punctuation">.</span>present<span class="token punctuation">]</span><span class="token punctuation">,</span>
        present<span class="token punctuation">:</span> <span class="token punctuation">{</span> frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        future<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="A StateHistory-aware action">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> nextStateHistory<span class="token punctuation">,</span> StateHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">demoAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">:</span> StateHistory<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">,</span> frameworkName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">nextStateHistory</span><span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// The same as returning a handcrafted object like</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">demoAction</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">:</span> StateHistory<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">,</span> frameworkName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      currentState<span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        past<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>currentState<span class="token punctuation">.</span>past<span class="token punctuation">,</span> currentState<span class="token punctuation">.</span>present<span class="token punctuation">]</span><span class="token punctuation">,</span>
        present<span class="token punctuation">:</span> <span class="token punctuation">{</span> frameworks<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>frameworks<span class="token punctuation">,</span> frameworkName<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        future<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<h3>Navigating through history</h3>
<p>Having a history of states is great to do state time-travelling. That means defining either a past or future state as the new present. You can do it manually as described in the full-fledged example above and switching states between the properties <code>past</code>, <code>present</code> and <code>future</code>, or you can import the pre-registered action <code>jump</code> and pass it either a positive number for traveling into the future or a negative for travelling to past states.</p>

<code-listing heading="Time-travelling states">
  
<source-code lang="JavaScript" heading="Time-travelling states">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store<span class="token punctuation">,</span> jump <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  @<span class="token function">inject</span><span class="token punctuation">(</span>Store<span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store <span class="token operator">=</span> store<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">backToDinosaurs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Go back one step in time</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>jump<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">backToTheFuture</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Go forward one step to the future</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>jump<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Time-travelling states">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> autoinject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> Store<span class="token punctuation">,</span> StateHistory<span class="token punctuation">,</span> jump <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> State <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  @<span class="token function">autoinject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> store<span class="token punctuation">:</span> Store<span class="token operator">&lt;</span>StateHistory<span class="token operator">&lt;</span>State<span class="token operator">>></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'DemoAction'</span><span class="token punctuation">,</span> demoAction<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>state<span class="token punctuation">:</span> StateHistory<span class="token operator">&lt;</span>State<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">backToDinosaurs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Go back one step in time</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>jump<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">backToTheFuture</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Go forward one step to the future</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>jump<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>The <code>jump</code> action will take care of any potential overflows and return the current history object.</p>
</section>
<section><h2 id="limiting-the-number-of-history-items">Limiting the number of history items</h2><p>Having too many items could result in a memory hit. Thus you can specify the <code>limit</code> for when the histories past and future start to overflow.
That means your past and future arrays can hold only a maximum of the provided <code>limit</code> and new entries start to drop out, respectively the first or last item of the history stack.</p>

<code-listing heading="Registering the plugin with history overflow limits">
  
<source-code lang="JavaScript" heading="Registering the plugin with history overflow limits">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>Aurelia<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>initialState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialState<span class="token punctuation">,</span>
      history<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        undoable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        limit<span class="token punctuation">:</span> <span class="token number">10</span>       <span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">LIMIT</span> <span class="token constant">THE</span> <span class="token constant">HISTORY</span> <span class="token constant">TO</span> <span class="token number">10</span> <span class="token constant">ENTRIES</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering the plugin with history overflow limits">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>Aurelia<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>initialState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">:</span> Aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialState<span class="token punctuation">,</span>
      history<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        undoable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        limit<span class="token punctuation">:</span> <span class="token number">10</span>       <span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token constant">LIMIT</span> <span class="token constant">THE</span> <span class="token constant">HISTORY</span> <span class="token constant">TO</span> <span class="token number">10</span> <span class="token constant">ENTRIES</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="handling-side-effects-with-middleware">Handling side-effects with middleware</h2><p>Aurelia Store uses a concept of middleware to handle side-effects. Conceptually they are similar to 
<a href="https://expressjs.com/" target="_blank">Express.js</a>
 middlewares in that they allow to perform side-effects or manipulate request data. As such they are registered functions, which execute before or after each dispatched action.</p>
<p>A middleware is similar to an action, with the difference that it may return void as well. Middlewares can be executed before the dispatched action, thus potentially manipulating the current state which will be passed to the action, or afterward, modifying the returned value from the action. If they don't return anything the previous value will be passed as output. Either way, the middleware can be sync as well as async.</p>
<div class="warning"><div class="icon"> <i></i> </div><p>
As soon as you have one async middleware registered, essentially all action dispatches will be async as well.</p>
</div>
<p><img src="docs/plugins/store/images/middlewares.png" alt="Chart workflow" /></p>
<p>Middlewares are registered using <code>store.registerMiddleware</code> with the middleware's function and the placement <code>before</code> or <code>after</code>. Unregistration can be done using <code>store.unregisterMiddleware</code></p>

<code-listing heading="Registering a middleware">
  
<source-code lang="JavaScript" heading="Registering a middleware">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">customLogMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// in JavaScript just provide the string 'before' or 'after'</span>
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>customLogMiddleware<span class="token punctuation">,</span> <span class="token string">'after'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering a middleware">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">customLogMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">:</span> State<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// In TypeScript you can use the exported MiddlewarePlacement string enum</span>
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>customLogMiddleware<span class="token punctuation">,</span> MiddlewarePlacement<span class="token punctuation">.</span>After<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
You can call the <code>store.registerMiddleware</code> function whenever you want. This means middlewares don't have to be defined upfront at the apps configuration time but whenever needed. The same applies to <code>store.unregisterMiddleware</code>.</p>
</div>
</section>
<section><h2 id="accessing-the-original-unmodified-state-in-a-middleware">Accessing the original (unmodified) state in a middleware</h2><p>When executed, a middleware might accept a second argument which reflects the current unmodified state, the one before any other middlewares or, in case of an after positioning, the result of the dispatched action. This can be useful to determine the state diff that happened in the middleware chain or to reset the next state at certain conditions.</p>

<code-listing heading="Accessing the original state">
  
<source-code lang="JavaScript" heading="Accessing the original state">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">blacklister</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> originalState<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> currentState<span class="token punctuation">.</span>newValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'f**k'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originalState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Accessing the original state">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">blacklister</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">:</span> TestState<span class="token punctuation">,</span> originalState<span class="token punctuation">:</span> TestState<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> currentState<span class="token punctuation">.</span>newValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'f**k'</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originalState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="defining-settings-for-middlewares">Defining settings for middlewares</h2><p>Some middlewares require additional configurations in order to work as expected. Above we've looked at a <code>customLogMiddleware</code> middleware, which logs the newly created state to the console. Now if we wanted to control the log type to, let's say, output to <code>console.debug</code> we can make use of middleware settings.
These are passed in as the third argument to the middleware function and are registered with <code>registerMiddlware</code>.</p>

<code-listing heading="Passing settings to middlewares">
  
<source-code lang="JavaScript" heading="Passing settings to middlewares">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">customLogMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> originalState<span class="token punctuation">,</span> settings<span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">[</span>settings<span class="token punctuation">.</span>logType<span class="token punctuation">]</span><span class="token punctuation">(</span>currentState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>customLogMiddleware<span class="token punctuation">,</span> <span class="token string">'after'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> logType<span class="token punctuation">:</span> <span class="token string">'debug'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Passing settings to middlewares">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">customLogMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> originalState<span class="token punctuation">,</span> settings<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">console</span><span class="token punctuation">[</span>settings<span class="token punctuation">.</span>logType<span class="token punctuation">]</span><span class="token punctuation">(</span>currentState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>customLogMiddleware<span class="token punctuation">,</span> MiddlewarePlacement<span class="token punctuation">.</span>After<span class="token punctuation">,</span> <span class="token punctuation">{</span> logType<span class="token punctuation">:</span> <span class="token string">'debug'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="reference-to-the-calling-action-for-middlewares">Reference to the calling action for middlewares</h2><p>Last but not least the optional fourth argument passed into a middleware is the calling action, meaning the action that is being dispatched.
In here you get an object containing the action's <code>name</code> and the provided <code>params</code>. This is useful when you, for instance, want only certain actions to pass or be canceled under certain circumstances.</p>

<code-listing heading="Reference to the calling action in middlewares">
  
<source-code lang="JavaScript" heading="Reference to the calling action in middlewares">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">gateKeeperMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> originalState<span class="token punctuation">,</span> _<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// imagine a lockActive property on the state indicating that certain actions may not be executed</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>lockActive <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> action<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'trespasser'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originalState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>gateKeeperMiddleware<span class="token punctuation">,</span> <span class="token string">'after'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Reference to the calling action in middlewares">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">gateKeeperMiddleware</span> <span class="token operator">=</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">,</span> originalState<span class="token punctuation">,</span> _<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// imagine a lockActive property on the state indicating that certain actions may not be executed</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>lockActive <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> action<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'trespasser'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> originalState<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>gateKeeperMiddleware<span class="token punctuation">,</span> MiddlewarePlacement<span class="token punctuation">.</span>After<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="error-propagation-with-middlewares">Error propagation with middlewares</h2><p>By default errors thrown by middlewares will be swallowed in order to guarantee continued states. If you would like to stop state propagation you need to set the <code>propagateError</code> option of the plugin to <code>true</code>:</p>

<code-listing heading="Registering the plugin with active error propagation">
  
<source-code lang="JavaScript" heading="Registering the plugin with active error propagation">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>Aurelia<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>initialState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialState<span class="token punctuation">,</span>
      propagateError<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering the plugin with active error propagation">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>Aurelia<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-framework'</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>initialState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./state'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">configure</span><span class="token punctuation">(</span>aurelia<span class="token punctuation">:</span> Aurelia<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    aurelia<span class="token punctuation">.</span>use
      <span class="token punctuation">.</span><span class="token function">standardConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">feature</span><span class="token punctuation">(</span><span class="token string">'resources'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token operator">...</span>
  
    aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      initialState<span class="token punctuation">,</span>
      propagateError<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    aurelia<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> aurelia<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="default-middlewares">Default middlewares</h2><p>Aurelia Store comes with a few home-baked middlewares. Others should be added as custom dependencies instead of polluting the overall package size.</p>
<h3>The Logging Middleware</h3>
<p>From the previous explanations of the inner workings of middlewares, you've come to learn about the <code>loggingMiddleware</code>. Instead of rebuilding it you can simply import it from Aurelia Store and register it. Remember that you can pass in a settings object to define the <code>logType</code>, which is also defined as a string enum in TypeScript.</p>

<code-listing heading="Registering the Logging middleware">
  
<source-code lang="JavaScript" heading="Registering the Logging middleware">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> logMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token operator">...</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>logMiddleware<span class="token punctuation">,</span> <span class="token string">'after'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> logType<span class="token punctuation">:</span> <span class="token string">'log'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering the Logging middleware">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> logMiddleware<span class="token punctuation">,</span> LogLevel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token operator">...</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>logMiddleware<span class="token punctuation">,</span> MiddlewarePlacement<span class="token punctuation">.</span>After<span class="token punctuation">,</span> <span class="token punctuation">{</span> logType<span class="token punctuation">:</span> LogLevel<span class="token punctuation">.</span>log <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<h3>The Local Storage middleware</h3>
<p>The <code>localStorageMiddleware</code> stores your most recent emitted state in the 
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank">window.localStorage</a>
. This is useful when creating apps which should survive a full page refresh. Generally, it makes the most sense to place the middleware at the end of the queue to get the latest available value stored in <code>localStorage</code>.</p>
<p>In order to make use of it all, all you need to do is to register the middleware as usual. By default, the storage key will be <code>aurelia-store-state</code>. You can additionally provide a storage-key via the settings to be used instead.</p>

<code-listing heading="Registering the LocalStorage middleware">
  
<source-code lang="JavaScript" heading="Registering the LocalStorage middleware">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> localStorageMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token operator">...</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>localStorageMiddleware<span class="token punctuation">,</span> MiddlewarePlacement<span class="token punctuation">.</span>After<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'my-storage-key'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Registering the LocalStorage middleware">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> localStorageMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token operator">...</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerMiddleware</span><span class="token punctuation">(</span>localStorageMiddleware<span class="token punctuation">,</span> MiddlewarePlacement<span class="token punctuation">.</span>After<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'my-storage-key'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Now in order to rehydrate the stored state, all you need to do is to dispatch the provided <code>rehydrateFromLocalStorage</code> action which you can import and register as usual. If you used a different key then the default one, just pass it as the second argument to the dispatch call.</p>

<code-listing heading="Dispatching the localStorage rehydration action">
  
<source-code lang="JavaScript" heading="Dispatching the localStorage rehydration action">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// app.js</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> rehydrateFromLocalStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token operator">...</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'Rehydrate'</span><span class="token punctuation">,</span> rehydrateFromLocalStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>rehydrateFromLocalStorage<span class="token punctuation">,</span> <span class="token string">'my-storage-key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Dispatching the localStorage rehydration action">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// app.ts</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> rehydrateFromLocalStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  
  <span class="token operator">...</span>
  
  store<span class="token punctuation">.</span><span class="token function">registerAction</span><span class="token punctuation">(</span><span class="token string">'Rehydrate'</span><span class="token punctuation">,</span> rehydrateFromLocalStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>rehydrateFromLocalStorage<span class="token punctuation">,</span> <span class="token string">'my-storage-key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<div class="info"><div class="icon"> <i></i> </div><p>
Keep in mind that the store starts with an <code>initialState</code>. If the <code>localStorage</code> middleware is registered at the app's start, most likely the next refresh will immediately overwrite your <code>localStorage</code> and negate the effect of restoring data from previous runs. In order to avoid that, make sure to register the middleware just after the initial state has loaded.</p>
</div>
</section>
<section><h2 id="execution-order">Execution order</h2><p>If multiple actions are dispatched, they will get queued and executed one after another in order to make sure that each dispatch starts with an up-to-date state.</p>
<p>If either your actions or middlewares return a sync or async value of <code>false</code> it will cause the Aurelia Store plugin to interrupt the execution and not emit the next state. Use this behavior in order to avoid unnecessary state updates.</p>
</section>
<section><h2 id="tracking-overall-performance">Tracking overall performance</h2><p>In order to get insights into total run durations to effectively calculate how long it takes to dispatch the next state, you can pass in the <code>measurePerformance</code> option in the plugin configuration section.</p>

<code-listing heading="Tracking performance data">
  
<source-code lang="JavaScript" heading="Tracking performance data">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  
  aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> initialState<span class="token punctuation">,</span> measurePerformance<span class="token punctuation">:</span> <span class="token string">'all'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Tracking performance data">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> PerformanceMeasurement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> initialState<span class="token punctuation">,</span> measurePerformance<span class="token punctuation">:</span> PerformanceMeasurement<span class="token punctuation">.</span>All <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>You can choose between <code>startEnd</code> - which gets you a single measure with the duration of the whole dispatch queue - or <code>all</code>, which will log, besides the total duration, all single marks after every middleware and the actual dispatching.</p>
<p>Measures will only be logged for successful state updates, so if an action or middleware aborts due to returning <code>false</code> or throwing an error, nothing gets logged.</p>
</section>
<section><h2 id="debugging-with-the-redux-devtools-extension">Debugging with the Redux DevTools extension</h2><p>If you've ever worked with Redux then you know for sure about the 
<a href="https://github.com/zalmoxisus/redux-devtools-extension" target="_blank">Redux Devtools browser extension</a>
. It's a fantastic way to record and replay the states of your application's walkthrough. For each step, you get detailed information about your state at that time. This can help tremendously to debug states and replicate issues more easily.</p>
<p>There are tons of 
<a href="https://codeburst.io/redux-devtools-for-dummies-74566c597d7" target="_blank">great articles</a>
 to get you started. Head over to 
<a href="https://github.com/zalmoxisus/redux-devtools-extension" target="_blank">DevTools browser extension page</a>
 for instructions on how to install the extension, start your Aurelia Store plugin project and see how it works.</p>
</section>
<section><h2 id="defining-custom-devtoolsoptions">Defining custom devToolsOptions</h2><p>if you use the Redux DevTools extension you can pass options to Aurelia-Store to setup the extension with your 
<a href="https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/API/Arguments.md" target="_blank">preferred configuration</a>
.</p>
<p>In the following example, we set the serialize option to false. This way our state will not get serialized when sending it to the extension.</p>

<code-listing heading="Initializing the DevTools extension with custom options">
  
<source-code lang="JavaScript" heading="Initializing the DevTools extension with custom options">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  
  <span class="token operator">...</span>
  aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    initialState<span class="token punctuation">,</span>
    devToolsOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      serialize<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Initializing the DevTools extension with custom options">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  
  <span class="token operator">...</span>
  aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    initialState<span class="token punctuation">,</span>
    devToolsOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      serialize<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
</section>
<section><h2 id="defining-custom-loglevels">Defining custom LogLevels</h2><p>For various features, Aurelia Store can log information if logging is turned on. E.g. the dispatch info of the currently dispatched action will log on info level by default. Combining the logging of many of these features might be very distracting in your console window. As such you can define the log level to be used per feature in the plugin's setup options. In the following example, we'd like to have the <code>logLevel</code> for the <code>dispatchAction</code> info set to <code>debug</code> instead of the default <code>info</code> level.</p>

<code-listing heading="Dispatch logs to console.debug">
  
<source-code lang="JavaScript" heading="Dispatch logs to console.debug">
  <pre class="language-javascript">
    <code>
  <span class="token comment">// main.js</span>
  
  aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    initialState<span class="token punctuation">,</span>
    logDispatchedActions<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    logDefinitions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      dispatchedActions<span class="token punctuation">:</span> <span class="token string">'debug'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  

<source-code lang="TypeScript" heading="Dispatch logs to console.debug">
  <pre class="language-typescript">
    <code>
  <span class="token comment">// main.ts</span>
  
  <span class="token keyword">import</span> <span class="token punctuation">{</span> LogLevel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'aurelia-store'</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
  aurelia<span class="token punctuation">.</span>use<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'aurelia-store'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    initialState<span class="token punctuation">,</span>
    logDispatchedActions<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    logDefinitions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      dispatchedActions<span class="token punctuation">:</span> LogLevel<span class="token punctuation">.</span>debug
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </code>
  </pre>
</source-code>
  
</code-listing>
<p>Besides the control for <code>dispatchedActions</code> you can also set the logType for the <code>performanceLog</code> and <code>devToolsStatus</code> notifications.</p>
</section>
<section><h2 id="comparison-to-other-state-management-libraries">Comparison to other state management libraries</h2><p>There are a lot of other state management libraries out there, so you might ask yourself why you should favor Aurelia Store instead. As always Aurelia doesn't want to force you into a certain direction. There are good reasons to stick with something you're already familiar or using in another project.
Let's look at the differences with a few of the well-known alternatives.</p>
<h3>Differences to Redux</h3>
<p>Doubtlessly 
<a href="https://redux.js.org/" target="_blank">Redux</a>
 is one of the most favored state management libraries out there in the ecosystem. With its solid principles of being a predictable state container and thus working towards consistently behaving apps, it's a common choice amongst React developers. A lot of that is motivated by the focus on immutable states and the predictability that this brings in itself. Yet Redux is not solely bound to React and can be used with everything else, 
<a href="https://www.sitepoint.com/managing-state-aurelia-with-redux/" target="_blank">including Aurelia</a>
. There are even plugins to help you 
<a href="https://github.com/steelsojka/aurelia-redux-plugin" target="_blank">get started</a>
.</p>
<p>Aurelia Store shares a lot of fundamental design choices from Redux, yet drastically differentiates itself in two points. For one it's the reduction of boilerplate code. There is no necessity to split Actions and Reducers, along with separate action constants. Plain functions are all that is needed. Secondly, handling async state calculations is simplified by treating the apps state as a stream of states. RxJS as such is a major differentiator, which is also slowly finding its place in the 
<a href="https://github.com/redux-observable/redux-observable" target="_blank">Redux eco-system</a>
.</p>
<h3>Differences to MobX</h3>
<p>
<a href="https://github.com/mobxjs/mobx" target="_blank">MobX</a>
 came up as a more lightweight alternative to Redux. With its focus on observing properties for changes and that way manipulating the app's state, it addresses the issue of reducing boilerplate and not forcing the user into a strict functional programming style. MobX, similar to Redux, is not tied specifically to a framework - although they offer React bindings out of the box - yet it is not really a great fit for Aurelia. The primary reason for this is that observing property changes is actually one of the main selling points of Aurelia.
Same applies to computed values resembling Aurelia's <code>computedFrom</code> and reactions, being pretty much the same as <code>propertyChanged</code> handlers.</p>
<p>Essentially all that MobX brings to the table might be implemented with vanilla Aurelia plus a global state service.</p>
<h3>Differences to VueX</h3>
<p>The last well-known alternative is 
<a href="https://github.com/vuejs/vuex" target="_blank">VueX</a>
, a state management library designed specifically for use with the 
<a href="https://vuejs.org/v2/guide/" target="_blank">Vue framework</a>
. On the surface, VueX is relatively similar to MobX with some specific twists to how it handles internal changes, being <code>mutations</code>, although developers 
<a href="https://twitter.com/youyuxi/status/736939734900047874" target="_blank">seem to disagree</a>
 about that. Mutations very much translate function-wise to Redux reducers, with the difference that they make use of Vue's change tracking and thus nicely fit into the framework itself. Modules, on the other hand, are another way to group your actions.</p>
<p>Aurelia Store is pretty similar to VueX in that regard. It makes use of Aurelia's dependency injection, logging and platform abstractions, but aside from that is still a plain simple TypeScript class and could be re-used for any other purpose. One of the biggest differentiators is that Aurelia Store does not force any specific style. Whether you prefer a class-based approach, using the <code>connectTo</code> decorator, or heavy function based composition, the underlying architecture of a private <code>BehaviorSubject</code> and a public <code>Observable</code> is flexible enough to adapt to your needs.</p>
</section>

  </article>
</section>

    </div>

    <footer class="content-footer" id="app-footer">
      <div class="links">
        <div class="link-column">
          <h4>Resources</h4>
          <ul>
            <li><a href="docs/overview/what-is-aurelia">About</a></li>
            <li><a href="blog">Blog</a></li>
            <li><a href="http://eepurl.com/ces50j">Newsletter</a></li>
          </ul>
        </div>
        <div class="link-column">
          <h4>Help</h4>
          <ul>
            <li><a href="https://discourse.aurelia.io/">Discourse</a></li>
            <li><a href="https://gitter.im/aurelia/Discuss">Gitter</a></li>
            <li><a href="https://stackoverflow.com/search?q=aurelia">Stack Overflow</a></li>
          </ul>
        </div>
        <div class="link-column">
          <h4>Community</h4>
          <ul>
            <li><a href="https://github.com/aurelia">GitHub</a></li>
            <li><a href="https://twitter.com/aureliaeffect">Twitter</a></li>
            <li><a href="https://github.com/orgs/aurelia/people">Team</a></li>
          </ul>
        </div>
      </div>

      <p class="copyright">
        Copyright © 2010 - 2019 <a href="http://www.bluespire.com">Blue Spire Inc.</a> Code licensed under the MIT License. Content licensed under CC0.
      </p>
    </footer>
  </main>

  <side-bar></side-bar>

  <nav>
    <ul>
      <li class="home ${activeTab === 'home' ? 'active' : ''}">
        <a href="home">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px"
            height="32px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Outline_Icons">
            <g>
              <path d="M20.5,13.5c-0.276,0-0.5,0.224-0.5,0.5v9h-5v-6.5c0-0.276-0.224-0.5-0.5-0.5h-5C9.224,16,9,16.224,9,16.5V23H4v-9.5
                C4,13.224,3.776,13,3.5,13S3,13.224,3,13.5v10C3,23.777,3.224,24,3.5,24h6c0.276,0,0.5-0.224,0.5-0.5V17h4v6.5
                c0,0.276,0.224,0.5,0.5,0.5h6c0.276,0,0.5-0.224,0.5-0.5V14C21,13.724,20.776,13.5,20.5,13.5z"/>
              <path d="M23.854,12.647l-11.5-11.5c-0.195-0.195-0.512-0.195-0.707,0l-11.5,11.5c-0.195,0.195-0.195,0.512,0,0.707
                s0.512,0.195,0.707,0L12,2.208l11.146,11.146c0.098,0.098,0.226,0.146,0.354,0.146s0.256-0.049,0.354-0.146
                C24.049,13.159,24.049,12.842,23.854,12.647z"/>
              <path d="M16,3h3v3c0,0.276,0.224,0.5,0.5,0.5S20,6.277,20,6V2.5C20,2.224,19.776,2,19.5,2H16c-0.276,0-0.5,0.224-0.5,0.5
                S15.724,3,16,3z"/>
            </g>
          </g>
          <g id="invisible_shape">
            <rect fill="none" width="24" height="24"/>
          </g>
          </svg>
          <div class="label">Home</div>
        </a>
      </li>

      <li class="article ${activeTab === 'article' ? 'active' : ''}">
        <a href="docs">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
            height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Outline_Icons_1_">
            <g>
              <path d="M23.5,1H12V0.5C12,0.224,11.776,0,11.5,0h-8C3.224,0,3,0.224,3,0.5V1H0.5C0.224,1,0,1.224,0,1.5v22
                C0,23.776,0.224,24,0.5,24h23c0.276,0,0.5-0.224,0.5-0.5v-22C24,1.224,23.776,1,23.5,1z M4,1h7v11.293L7.854,9.146
                c-0.195-0.195-0.512-0.195-0.707,0L4,12.293V1z M23,23H1V2h2v11.5c0,0.446,0.542,0.668,0.854,0.354L7.5,10.207l3.646,3.646
                C11.459,14.166,12,13.948,12,13.5V2h11V23z"/>
              <path d="M14.5,8h6C20.776,8,21,7.776,21,7.5S20.776,7,20.5,7h-6C14.224,7,14,7.224,14,7.5S14.224,8,14.5,8z"/>
              <path d="M14.5,11h6c0.276,0,0.5-0.224,0.5-0.5S20.776,10,20.5,10h-6c-0.276,0-0.5,0.224-0.5,0.5S14.224,11,14.5,11z"/>
              <path d="M20.5,13h-6c-0.276,0-0.5,0.224-0.5,0.5s0.224,0.5,0.5,0.5h6c0.276,0,0.5-0.224,0.5-0.5S20.776,13,20.5,13z"/>
              <path d="M20.5,16h-17C3.224,16,3,16.224,3,16.5S3.224,17,3.5,17h17c0.276,0,0.5-0.224,0.5-0.5S20.776,16,20.5,16z"/>
              <path d="M16.5,19h-13C3.224,19,3,19.224,3,19.5S3.224,20,3.5,20h13c0.276,0,0.5-0.224,0.5-0.5S16.776,19,16.5,19z"/>
            </g>
          </g>
          <g id="Invisible_Shape">
            <rect fill="none" width="24" height="24"/>
          </g>
          </svg>
          <div class="label">Guides</div>
        </a>
      </li>

      <li class="api ${activeTab === 'api' ? 'active' : ''}">
        <a href="docs/api">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
            height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Outline_Icons">
            <path d="M21.945,15.283c-0.009-0.02-0.022-0.034-0.034-0.052c-0.031-0.048-0.068-0.089-0.114-0.123
              c-0.011-0.008-0.015-0.021-0.026-0.029L17,12.011V7.5c0-0.082-0.024-0.156-0.059-0.224c-0.01-0.02-0.023-0.035-0.036-0.053
              c-0.033-0.049-0.072-0.089-0.12-0.124c-0.012-0.007-0.017-0.022-0.028-0.029l-5-3c-0.158-0.095-0.355-0.095-0.514,0l-5,3
              C6.231,7.078,6.227,7.093,6.215,7.1c-0.048,0.035-0.087,0.075-0.12,0.124C6.082,7.241,6.068,7.257,6.059,7.276
              C6.024,7.344,6,7.418,6,7.5v4.511L1.229,15.08c-0.012,0.007-0.016,0.021-0.026,0.029c-0.046,0.034-0.083,0.075-0.114,0.123
              c-0.012,0.018-0.025,0.032-0.034,0.052C1.022,15.349,1,15.421,1,15.5v4.784c0,0.17,0.087,0.329,0.229,0.421l5,3.216
              c0.009,0.006,0.021,0.003,0.029,0.009C6.331,23.971,6.411,24,6.5,24s0.169-0.029,0.241-0.07c0.009-0.006,0.021-0.003,0.029-0.009
              l4.729-3.042l4.729,3.042c0.009,0.006,0.021,0.003,0.029,0.009C16.331,23.971,16.411,24,16.5,24s0.169-0.029,0.241-0.07
              c0.009-0.006,0.021-0.003,0.029-0.009l5-3.216C21.913,20.613,22,20.454,22,20.284V15.5C22,15.421,21.978,15.349,21.945,15.283z
              M16.5,17.917l-4.053-2.432l4.053-2.606l4.053,2.606L16.5,17.917z M7,18.783l4-2.4v3.628l-4,2.573V18.783z M16,12.011l-4,2.573
              v-3.801l4-2.4V12.011z M11,14.584l-4-2.573V8.383l4,2.4V14.584z M11.5,5.083L15.528,7.5L11.5,9.917L7.472,7.5L11.5,5.083z
              M6.5,12.879l4.053,2.606L6.5,17.917l-4.053-2.432L6.5,12.879z M2,16.383l4,2.4v3.801l-4-2.573V16.383z M12,16.383l4,2.4v3.801
              l-4-2.573V16.383z M17,22.584v-3.801l4-2.4v3.628L17,22.584z"/>
          </g>
          <g id="Invisible_Shape">
            <rect fill="none" width="24" height="24"/>
          </g>
          </svg>

          <div class="label">APIs</div>
        </a>
      </li>

      <li class="discuss ${activeTab === 'discuss' ? 'active' : ''}">
        <a href="https://discourse.aurelia.io">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Outline_Icons_1_">
            <g id="Outline_Icons">
              <g>
                <path d="M7.508,14.318c-0.465-0.063-0.923-0.163-1.362-0.297c-0.109-0.034-0.227-0.029-0.331,0.015l-3.669,1.467l1.289-2.255
                  c0.122-0.214,0.07-0.484-0.122-0.639C1.843,11.434,1,9.729,1,7.935C1,4.387,4.589,1.5,9,1.5s8,2.887,8,6.435
                  c0,0.276,0.224,0.5,0.5,0.5s0.5-0.224,0.5-0.5c0-4.1-4.038-7.435-9-7.435S0,3.835,0,7.935c0,1.962,0.855,3.827,2.36,5.178
                  l-1.794,3.14c-0.105,0.185-0.083,0.416,0.057,0.576C0.72,16.939,0.858,17,1,17c0.062,0,0.125-0.012,0.186-0.036l4.839-1.936
                  c0.438,0.124,0.891,0.219,1.348,0.28c0.274,0.048,0.526-0.154,0.563-0.428S7.781,14.355,7.508,14.318z"/>
                <path d="M22.123,20.627C23.353,19.517,24,18.098,24,16.5c0-3.523-3.435-6.5-7.5-6.5S9,12.977,9,16.5
                  c0,2.125,1.152,4.144,3.083,5.397c2.073,1.349,4.649,1.582,6.93,0.642l3.812,1.429C22.882,23.989,22.941,24,23,24
                  c0.139,0,0.275-0.058,0.372-0.165c0.138-0.153,0.167-0.375,0.076-0.559L22.123,20.627z M19.176,21.532
                  C19.119,21.511,19.06,21.5,19,21.5c-0.069,0-0.139,0.015-0.203,0.043c-2.018,0.898-4.324,0.717-6.169-0.484
                  C10.982,19.99,10,18.285,10,16.5c0-2.981,2.977-5.5,6.5-5.5s6.5,2.519,6.5,5.5c0,1.433-0.61,2.647-1.812,3.609
                  c-0.184,0.147-0.24,0.403-0.135,0.614l0.931,1.861L19.176,21.532z"/>
              </g>
            </g>
            <g id="New_icons_1_">
            </g>
          </g>
          <g id="Invisible_Shape">
            <rect fill="none" width="24" height="24"/>
          </g>
          </svg>

          <div class="label">Discourse</div>
        </a>
      </li>

      <li class="blog ${activeTab === 'blog' ? 'active' : ''}">
        <a href="blog">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
          <g id="Outline_Icons_1_">
            <g id="Outline_Icons">
              <g>
                <path d="M14.5,3h-11C3.224,3,3,3.224,3,3.5S3.224,4,3.5,4h11C14.776,4,15,3.776,15,3.5S14.776,3,14.5,3z"/>
                <path d="M3.5,13h5C8.776,13,9,12.776,9,12.5v-6C9,6.224,8.776,6,8.5,6h-5C3.224,6,3,6.224,3,6.5v6C3,12.776,3.224,13,3.5,13z
                  M4,7h4v5H4V7z"/>
                <path d="M14.5,8h-3C11.224,8,11,8.224,11,8.5S11.224,9,11.5,9h3C14.776,9,15,8.776,15,8.5S14.776,8,14.5,8z"/>
                <path d="M14.5,10h-4c-0.276,0-0.5,0.224-0.5,0.5s0.224,0.5,0.5,0.5h4c0.276,0,0.5-0.224,0.5-0.5S14.776,10,14.5,10z"/>
                <path d="M14.5,12h-4c-0.276,0-0.5,0.224-0.5,0.5s0.224,0.5,0.5,0.5h4c0.276,0,0.5-0.224,0.5-0.5S14.776,12,14.5,12z"/>
                <path d="M14.5,14h-11C3.224,14,3,14.224,3,14.5S3.224,15,3.5,15h11c0.276,0,0.5-0.224,0.5-0.5S14.776,14,14.5,14z"/>
                <path d="M14.5,16h-11C3.224,16,3,16.224,3,16.5S3.224,17,3.5,17h11c0.276,0,0.5-0.224,0.5-0.5S14.776,16,14.5,16z"/>
                <path d="M14.5,18h-11C3.224,18,3,18.224,3,18.5S3.224,19,3.5,19h11c0.276,0,0.5-0.224,0.5-0.5S14.776,18,14.5,18z"/>
                <path d="M23.5,3H20V2c0-0.276-0.224-0.5-0.5-0.5H18v-1C18,0.224,17.776,0,17.5,0h-17C0.224,0,0,0.224,0,0.5v20
                  C0,22.43,1.57,24,3.5,24h17c1.93,0,3.5-1.57,3.5-3.5v-17C24,3.224,23.776,3,23.5,3z M20,6h1v14.5c0,0.276-0.225,0.5-0.5,0.5
                  S20,20.776,20,20.5V6z M3.5,23C2.121,23,1,21.878,1,20.5V1h16v1v2v16.5c0,0.979,0.403,1.865,1.053,2.5H3.5z M23,20.5
                  c0,1.378-1.121,2.5-2.5,2.5S18,21.878,18,20.5V4V2.5h1v18c0,0.827,0.673,1.5,1.5,1.5s1.5-0.673,1.5-1.5v-15
                  C22,5.224,21.776,5,21.5,5H20V4h3V20.5z"/>
              </g>
            </g>
            <g id="New_icons_1_">
            </g>
          </g>
          <g id="Invisible_Shape">
            <rect fill="none" width="24" height="24"/>
          </g>
          </svg>
          <div class="label">Blog</div>
        </a>
      </li>

      <li class="help ${activeTab === 'support' ? 'active' : ''}">
        <a href="support">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
              <g id="Filled_Icons_1_">
                  <g id="Filled_Icons"></g>
                  <g id="New_icons">
                      <g>
                          <path d="M23.5,0h-15C8.224,0,8,0.224,8,0.5v10C8,10.776,8.224,11,8.5,11H11v3c0,0.445,0.54,0.667,0.854,0.354L15.207,11H23.5     c0.276,0,0.5-0.224,0.5-0.5v-10C24,0.224,23.776,0,23.5,0z M16.518,8.729c-0.273,0-0.494-0.222-0.494-0.494     c0-0.273,0.221-0.494,0.494-0.494c0.272,0,0.494,0.221,0.494,0.494C17.012,8.508,16.79,8.729,16.518,8.729z M17.018,5.9v0.6     c0,0.276-0.224,0.5-0.5,0.5c-0.276,0-0.5-0.224-0.5-0.5V5.464c0-0.276,0.224-0.5,0.5-0.5c0.542,0,0.982-0.441,0.982-0.982     C17.5,3.44,17.059,3,16.518,3c-0.541,0-0.982,0.44-0.982,0.982c0,0.276-0.224,0.5-0.5,0.5c-0.276,0-0.5-0.224-0.5-0.5     C14.535,2.89,15.424,2,16.518,2C17.611,2,18.5,2.89,18.5,3.982C18.5,4.902,17.87,5.678,17.018,5.9z"></path>
                          <g>
                              <path d="M5.5,14h-5C0.224,14,0,14.224,0,14.5V17c0,1.083,0.336,1.729,1,1.932V23.5C1,23.776,1.224,24,1.5,24h3      C4.776,24,5,23.776,5,23.5v-4.568c0.663-0.202,0.998-0.85,1-1.932v-2.5C6,14.224,5.776,14,5.5,14z"></path>
                              <circle cx="3" cy="11" r="2"></circle>
                          </g>
                      </g>
                  </g>
              </g>
              <g id="Invisible_Shape">
                  <rect fill="none" width="24" height="24"></rect>
              </g>
          </svg>
          <div class="label">Support</div>
        </a>
      </li>

      <li class="help ${activeTab === 'learn' ? 'active' : ''}">
        <a href="learn">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
              <g id="Filled_Icons">
                  <path d="M22.5,1.001h-21c-0.827,0-1.5,0.672-1.5,1.5V17.5C0,18.327,0.673,19,1.5,19H10v2H7c-0.276,0-0.5,0.224-0.5,0.5   S6.724,22,7,22h10c0.276,0,0.5-0.224,0.5-0.5S17.276,21,17,21h-3v-2h8.5c0.827,0,1.5-0.673,1.5-1.5V2.501   C24,1.673,23.327,1.001,22.5,1.001z M17,13c0,0.189-0.107,0.362-0.276,0.447l-4,2c-0.07,0.035-0.147,0.053-0.224,0.053   s-0.153-0.018-0.224-0.053l-4-2C8.107,13.362,8,13.189,8,13v-2.297l3.909,1.676c0.189,0.081,0.39,0.121,0.591,0.121   s0.402-0.04,0.591-0.121L17,10.703V13z M19.697,8.46l-7,3c-0.064,0.026-0.13,0.04-0.197,0.04s-0.134-0.014-0.197-0.04L6,8.758v2.66   l0.975,2.924c0.051,0.152,0.025,0.32-0.069,0.451C6.812,14.923,6.661,15,6.5,15h-2c-0.161,0-0.312-0.077-0.405-0.207   C4,14.662,3.975,14.494,4.025,14.342L5,11.418V8c0-0.091,0.031-0.172,0.074-0.246c0.01-0.018,0.02-0.033,0.033-0.051   C5.159,7.636,5.221,7.577,5.3,7.543L5.303,7.54h0.002l0.002-0.001l6.996-2.998c0.127-0.054,0.268-0.054,0.395,0l7,2.999   C19.881,7.619,20,7.8,20,8S19.881,8.381,19.697,8.46z"></path>
              </g>
              <g id="invisible_shape">
                  <rect fill="none" width="24" height="24"></rect>
              </g>
          </svg>
          <div class="label">Learn</div>
        </a>
      </li>
    </ul>
  </nav>

  <search-panel></search-panel>

  <script>
    window.siteConfig = {"name":"Aurelia","siteUrl":"http://aurelia.io","baseUrl":"/","outDir":"./","trackingID":"UA-38441871-6","appearance":{"logoSrc":"./src/logo.svg"},"header":{"buttons":[{"text":"Get the Newsletter","url":"http://eepurl.com/ces50j"}]},"home":{"name":"Home","description":"Aurelia is a JavaScript client framework for web, mobile and desktop that leverages simple conventions to empower your creativity.","src":"./src/home.html","dest":"home"},"blog":{"name":"The Aurelia Blog","description":"The official blog of the Aurelia project and Core Team.","dest":"blog","src":"../blog","postsPerPage":7,"author":"AureliaEffect","social":{"name":"Aurelia Channels","twitter":"https://twitter.com/aureliaeffect","github":"https://github.com/aurelia/framework","vimeo":"https://vimeo.com/channels/867847","gitter":"https://gitter.im/aurelia/Discuss"},"sponsorLevels":[{"name":"Gold Sponsors","sponsors":[{"name":"Hogia","href":"https://www.hogia.com/","imageSrc":"styles/images/logos/hogia.svg"}]},{"name":"Silver Sponsors","sponsors":[{"name":"Haselt","href":"https://www.haselt.com/","imageSrc":"styles/images/logos/haselt.png"},{"name":"Symbiosys","href":"https://www.smbsol.com/","imageSrc":"styles/images/logos/symbiosys.jpeg"}]}],"migration":{"src":"../blog/aurelia.ghost.2018-01-15.json"}},"forum":{"url":"https://discourse.aurelia.io","name":"Discourse"},"learn":{"name":"Learn","src":"./src/learn.md","dest":"learn","items":[{"id":"training","name":"Training"},{"id":"books","name":"Books"},{"id":"videos","name":"Videos"},{"id":"aurelia-university-coming-soon","name":"Aurelia University (coming soon)"}]},"support":{"name":"Support","src":"./src/support.md","dest":"support","items":[{"id":"live-support","name":"Live Support"},{"id":"guidance-tickets","name":"Guidance Tickets"},{"id":"code-reviews","name":"Code Reviews"},{"id":"pricing","name":"Pricing"},{"id":"consulting","name":"Consulting"}]},"pages":[{"name":"Get in Touch","src":"./src/contact.html","dest":"contact"},{"name":"Thank You","src":"./src/thanks.html","dest":"thanks"}],"notFound":{"name":"404","description":"Not Found","links":[{"href":"/docs/tutorials/creating-a-todo-app","text":"Getting Started with Aurelia"},{"href":"/docs","text":"Aurelia Guides"},{"href":"/docs/api","text":"Aurelia APIs"},{"href":"/help","text":"Help"}]},"docs":{"articleSrc":"../documentation/current/en-us","api":[{"name":"Binding","package":"../binding/package.json","src":"../binding/dist/aurelia-binding.d.ts","dest":"docs/api/binding","exampleSrc":"../binding/doc/example-dist","exampleDest":"example"},{"name":"Bootstrapper","package":"../bootstrapper/package.json","src":"../bootstrapper/dist/aurelia-bootstrapper.d.ts","dest":"docs/api/bootstrapper"},{"name":"Dependency Injection","package":"../dependency-injection/package.json","src":"../dependency-injection/dist/aurelia-dependency-injection.d.ts","dest":"docs/api/dependency-injection"},{"name":"Dialog","package":"../dialog/package.json","src":"../dialog/dist/types/aurelia-dialog.d.ts","dest":"docs/api/dialog"},{"name":"Event Aggregator","package":"../event-aggregator/package.json","src":"../event-aggregator/dist/aurelia-event-aggregator.d.ts","dest":"docs/api/event-aggregator"},{"name":"Fetch","package":"../fetch-client/package.json","src":"../fetch-client/dist/aurelia-fetch-client.d.ts","dest":"docs/api/fetch-client"},{"name":"Framework","package":"../framework/package.json","src":"../framework/dist/aurelia-framework.d.ts","dest":"docs/api/framework"},{"name":"History","package":"../history/package.json","src":"../history/dist/aurelia-history.d.ts","dest":"docs/api/history"},{"name":"History-Browser","package":"../history-browser/package.json","src":"../history-browser/dist/aurelia-history-browser.d.ts","dest":"docs/api/history-browser"},{"name":"I18N","package":"../i18n/package.json","src":"../i18n/dist/aurelia-i18n.d.ts","dest":"docs/api/i18n"},{"name":"Loader","package":"../loader/package.json","src":"../loader/dist/aurelia-loader.d.ts","dest":"docs/api/loader"},{"name":"Loader-Default","package":"../loader-default/package.json","src":"../loader-default/dist/aurelia-loader-default.d.ts","dest":"docs/api/loader-default"},{"name":"Logging","package":"../logging/package.json","src":"../logging/dist/aurelia-logging.d.ts","dest":"docs/api/logging"},{"name":"Logging-Console","package":"../logging-console/package.json","src":"../logging-console/dist/aurelia-logging-console.d.ts","dest":"docs/api/logging-console"},{"name":"Metadata","package":"../metadata/package.json","src":"../metadata/dist/aurelia-metadata.d.ts","dest":"docs/api/metadata"},{"name":"Platform Abstraction Layer (PAL)","package":"../pal/package.json","src":"../pal/dist/aurelia-pal.d.ts","dest":"docs/api/pal"},{"name":"PAL-Browser","package":"../pal-browser/package.json","src":"../pal-browser/dist/aurelia-pal-browser.d.ts","dest":"docs/api/pal-browser"},{"name":"Path","package":"../path/package.json","src":"../path/dist/aurelia-path.d.ts","dest":"docs/api/path"},{"name":"Route Recognizer","package":"../route-recognizer/package.json","src":"../route-recognizer/dist/aurelia-route-recognizer.d.ts","dest":"docs/api/route-recognizer"},{"name":"Router","package":"../router/package.json","src":"../router/dist/aurelia-router.d.ts","dest":"docs/api/router"},{"name":"Task Queue","package":"../task-queue/package.json","src":"../task-queue/dist/aurelia-task-queue.d.ts","dest":"docs/api/task-queue"},{"name":"Templating","package":"../templating/package.json","src":"../templating/dist/aurelia-templating.d.ts","dest":"docs/api/templating"},{"name":"Templating-Binding","package":"../templating-binding/package.json","src":"../templating-binding/dist/aurelia-templating-binding.d.ts","dest":"docs/api/templating-binding"},{"name":"Templating-Resources","package":"../templating-resources/package.json","src":"../templating-resources/dist/aurelia-templating-resources.d.ts","dest":"docs/api/templating-resources"},{"name":"Templating-Router","package":"../templating-router/package.json","src":"../templating-router/dist/aurelia-templating-router.d.ts","dest":"docs/api/templating-router"},{"name":"Testing","package":"../testing/package.json","src":"../testing/dist/commonjs/aurelia-testing.d.ts","dest":"docs/api/testing"},{"name":"Validation","package":"../validation/package.json","src":"../validation/dist/aurelia-validation.d.ts","dest":"docs/api/validation"}],"article":[{"name":"Overview","description":"Discover what Aurelia is along with its business and technical advantages.","dest":"docs/overview","items":[{"name":"What is Aurelia?","description":"Aurelia is a modern front-end framework for building browser, mobile and desktop applications.","src":"../documentation/current/en-us/1. overview/1. what-is-aurelia.md","dest":"docs/overview/what-is-aurelia","featured":true,"items":[{"id":"what-is-aurelia","name":"What is Aurelia?"},{"id":"why-choose-aurelia","name":"Why choose Aurelia?"}]},{"name":"Technical Benefits","description":"There are many technical advantages to using Aurelia. In this article, you will find a list of points we think are interesting. Taken together, there is no other SPA framework today that can match Aurelia.","src":"../documentation/current/en-us/1. overview/2. technical-benefits.md","dest":"docs/overview/technical-benefits","featured":false,"items":[{"id":"modern-javascript","name":"Modern JavaScript"},{"id":"modern-dom","name":"Modern DOM"},{"id":"modern-tooling","name":"Modern Tooling"},{"id":"code-quality","name":"Code Quality"},{"id":"web-component-standards","name":"Web Component Standards"},{"id":"modularity","name":"Modularity"},{"id":"platform-support","name":"Platform Support"},{"id":"capabilities","name":"Capabilities"}]},{"name":"Business Advantages","description":"Aurelia is open source platform with commercial backing. If your business is going to spend significant money building software, you want to do it on a platform that's committed to you as a customer. You want to be able to form a relationship with your technology provider to ensure that you and your developers have a solid platform upon which to build your business now and in the years to come.","src":"../documentation/current/en-us/1. overview/3. business-advantages.md","dest":"docs/overview/business-advantages","featured":false,"items":[{"id":"commercially-backed","name":"Commercially Backed"},{"id":"commercial-products-and-services","name":"Commercial Products and Services"},{"id":"strategic-partnerships","name":"Strategic Partnerships"},{"id":"broad-customer-reach","name":"Broad Customer Reach"}]}]},{"name":"Tutorials","description":"Step-by-step tutorials teaching you how to build your first Aurelia applications.","dest":"docs/tutorials","items":[{"name":"Quick Start","description":"Welcome to Aurelia! This quick start guide will take you through creating a Todo app using Aurelia and briefly explain its main concepts. We assume you are familiar with JavaScript, HTML, and CSS.","src":"../documentation/current/en-us/2. tutorials/1. creating-a-todo-app.md","dest":"docs/tutorials/creating-a-todo-app","featured":false,"items":[{"id":"setup","name":"Setup"},{"id":"the-indexhtml-page","name":"The Index.html Page"},{"id":"the-todo-class","name":"The Todo Class"},{"id":"the-app-class","name":"The App Class"},{"id":"getting-ready-to-render","name":"Getting Ready to Render"},{"id":"rendering-the-app","name":"Rendering the App"},{"id":"conclusion","name":"Conclusion"}]},{"name":"Contact Manager Tutorial","description":"Now that you've got the basics down, you need to learn how to use the CLI, build a more complex app and get a solid knowledge foundation for real-world work. In this tutorial we'll build a small contact manager app and demonstrate a variety of Aurelia's features as well as learn some useful techniques.","src":"../documentation/current/en-us/2. tutorials/2. creating-a-contact-manager.md","dest":"docs/tutorials/creating-a-contact-manager","featured":false,"items":[{"id":"setting-up-your-machine","name":"Setting Up Your Machine"},{"id":"creating-a-new-aurelia-project","name":"Creating A New Aurelia Project"},{"id":"adding-required-assets","name":"Adding Required Assets"},{"id":"building-the-application-shell","name":"Building the Application Shell"},{"id":"building-out-the-default-route","name":"Building Out the Default Route"},{"id":"building-out-the-contact-list","name":"Building Out the Contact List"},{"id":"building-out-the-contact-detail-screen","name":"Building Out the Contact Detail Screen"},{"id":"adding-pubsub-messaging","name":"Adding Pub/Sub Messaging"},{"id":"adding-a-loading-indicator","name":"Adding A Loading Indicator"},{"id":"next-steps","name":"Next Steps"},{"id":"conclusion","name":"Conclusion"}]}]},{"name":"Fundamentals","description":"After you've completed the quick starts, learn more about Aurelia's app model, components, dependency injection and more.","dest":"docs/fundamentals","items":[{"name":"App Configuration and Startup","description":"In this article you'll learn the various ways to bootstrap and configure Aurelia, along with different mechanisms for controlling the initial render strategy.","src":"../documentation/current/en-us/3. fundamentals/1. app-configuration-and-startup.md","dest":"docs/fundamentals/app-configuration-and-startup","featured":false,"items":[{"id":"bootstrapping-aurelia","name":"Bootstrapping Aurelia"},{"id":"rendering-the-root-component","name":"Rendering the Root Component"},{"id":"bootstrapping-older-browsers","name":"Bootstrapping Older Browsers"},{"id":"manual-bootstrapping","name":"Manual Bootstrapping"},{"id":"making-resources-global","name":"Making Resources Global"},{"id":"organizing-your-app-with-features","name":"Organizing Your App with Features"},{"id":"installing-plugins","name":"Installing Plugins"},{"id":"leveraging-progressive-enhancement","name":"Leveraging Progressive Enhancement"},{"id":"customizing-conventions","name":"Customizing Conventions"},{"id":"logging","name":"Logging"}]},{"name":"Creating Components","description":"Components are the basic building blocks of all Aurelia applications. In this article you'll learn how to build basic components using dependency injection and the component lifecycle.","src":"../documentation/current/en-us/3. fundamentals/2. creating-components.md","dest":"docs/fundamentals/creating-components","featured":false,"items":[{"id":"creating-a-component","name":"Creating A Component"},{"id":"component-instantiation-through-dependency-injection-di","name":"Component Instantiation Through Dependency Injection (DI)"},{"id":"the-component-lifecycle","name":"The Component Lifecycle"}]},{"name":"Dependency Injection: Basics","description":"Learn about how to leverage Aurelia's dependency injection container, the power behind all object creation in Aurelia applications.","src":"../documentation/current/en-us/3. fundamentals/3. dependency-injection.md","dest":"docs/fundamentals/dependency-injection","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"injection","name":"Injection"},{"id":"object-lifetime-child-containers-and-default-behavior","name":"Object Lifetime, Child Containers and Default Behavior"},{"id":"how-aurelia-uses-containers","name":"How Aurelia Uses Containers"},{"id":"explicit-configuration","name":"Explicit Configuration"},{"id":"resolvers","name":"Resolvers"}]},{"name":"Securing Your App","description":"It's important to secure your application. This article will address a couple of simple things you can do to improve the security of your application.","src":"../documentation/current/en-us/3. fundamentals/4. security.md","dest":"docs/fundamentals/security","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"authentication-and-authorization","name":"Authentication and Authorization"},{"id":"validation-and-sanitization","name":"Validation and Sanitization"},{"id":"secret-data","name":"Secret Data"},{"id":"deployment","name":"Deployment"},{"id":"prepare-for-the-inevitable","name":"Prepare for the Inevitable"},{"id":"do-not-be-nice-to-bad-guys","name":"Do Not Be Nice to Bad Guys"}]},{"name":"Cheat Sheet","description":"Forgot the syntax for bindings? Need to know how to create a custom attribute? This article contains answers to questions like those as well as a bunch of quick snippets for common tasks.","src":"../documentation/current/en-us/3. fundamentals/5. cheat-sheet.md","dest":"docs/fundamentals/cheat-sheet","featured":false,"items":[{"id":"configuration-and-startup","name":"Configuration and Startup"},{"id":"creating-components","name":"Creating Components"},{"id":"dependency-injection","name":"Dependency Injection"},{"id":"templating-basics","name":"Templating Basics"},{"id":"databinding","name":"Databinding"},{"id":"templating-view-resources","name":"Templating View Resources"},{"id":"routing","name":"Routing"},{"id":"custom-attributes","name":"Custom Attributes"},{"id":"custom-elements","name":"Custom Elements"},{"id":"the-event-aggregator","name":"The Event Aggregator"}]}]},{"name":"Binding","description":"Learn all about Aurelia's powerful data-binding engine.","dest":"docs/binding","items":[{"name":"Binding: Basics","description":"The basics of data-binding with Aurelia.","src":"../documentation/current/en-us/4. binding/1. basics.md","dest":"docs/binding/basics","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"html-and-svg-attributes","name":"HTML and SVG Attributes"},{"id":"dom-events","name":"DOM Events"},{"id":"function-references","name":"Function References"},{"id":"referencing-elements","name":"Referencing Elements"},{"id":"string-interpolation","name":"String Interpolation"},{"id":"element-content","name":"Element Content"},{"id":"contextual-properties","name":"Contextual Properties"},{"id":"expression-syntax","name":"Expression Syntax"}]},{"name":"Binding: Class and Style","description":"Data-binding class and style attributes with Aurelia.","src":"../documentation/current/en-us/4. binding/2. class-and-style.md","dest":"docs/binding/class-and-style","featured":false,"items":[{"id":"class","name":"Class"},{"id":"style","name":"Style"}]},{"name":"Binding: Checkboxes","description":"Data-binding checkbox inputs with Aurelia.","src":"../documentation/current/en-us/4. binding/3. checkboxes.md","dest":"docs/binding/checkboxes","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"booleans","name":"Booleans"},{"id":"array-of-numbers","name":"Array of Numbers"},{"id":"array-of-objects","name":"Array of Objects"},{"id":"array-of-objects-with-matcher","name":"Array of Objects with Matcher"},{"id":"array-of-strings","name":"Array of Strings"}]},{"name":"Binding: Radios","description":"Data-binding radio inputs with Aurelia.","src":"../documentation/current/en-us/4. binding/4. radios.md","dest":"docs/binding/radios","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"numbers","name":"Numbers"},{"id":"objects","name":"Objects"},{"id":"objects-with-matcher","name":"Objects with Matcher"},{"id":"booleans","name":"Booleans"},{"id":"strings","name":"Strings"}]},{"name":"Binding: Selects","description":"Data-binding select elements with Aurelia.","src":"../documentation/current/en-us/4. binding/5. selects.md","dest":"docs/binding/selects","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"select-number","name":"Select Number"},{"id":"select-object","name":"Select Object"},{"id":"select-object-with-matcher","name":"Select Object with Matcher"},{"id":"select-boolean","name":"Select Boolean"},{"id":"select-string","name":"Select String"},{"id":"multiple-select-numbers","name":"Multiple Select Numbers"},{"id":"multiple-select-objects","name":"Multiple Select Objects"},{"id":"multiple-select-strings","name":"Multiple Select Strings"}]},{"name":"Binding: Delegate vs Trigger","description":"When to use delegate and when to use trigger.","src":"../documentation/current/en-us/4. binding/6. delegate-vs-trigger.md","dest":"docs/binding/delegate-vs-trigger","featured":false,"items":[{"id":"delegate-vs-trigger","name":"Delegate vs Trigger"},{"id":"event-delegation-with-capture","name":"Event delegation with Capture"}]},{"name":"Binding: Computed Properties","description":"Data-binding computed properties with Aurelia.","src":"../documentation/current/en-us/4. binding/7. computed-properties.md","dest":"docs/binding/computed-properties","featured":false,"items":[{"id":"introduction","name":"Introduction"}]},{"name":"Binding: Value Converters","description":"An overview of the Aurelia binding engine's value converter functionality. Value converters are used to transform data during the data-binding process, both to and from the view.","src":"../documentation/current/en-us/4. binding/8. value-converters.md","dest":"docs/binding/value-converters","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"value-converters","name":"Value Converters"},{"id":"simple-converters","name":"Simple Converters"},{"id":"converter-parameters","name":"Converter Parameters"},{"id":"binding-converter-parameters","name":"Binding Converter Parameters"},{"id":"multiple-parameters-composing-converters","name":"Multiple Parameters / Composing Converters"},{"id":"object-parameters","name":"Object Parameters"},{"id":"bi-directional-value-converters","name":"Bi-directional Value Converters"},{"id":"globally-accessible-value-converters","name":"Globally Accessible Value Converters"},{"id":"signalable-value-converters","name":"Signalable Value Converters"}]},{"name":"Binding: Binding Behaviors","description":"An overview of the Aurelia binding engine's binding behavior functionality. Binding Behaviors are used to plug into a binding instance's lifecycle and change the way it operates.","src":"../documentation/current/en-us/4. binding/9. binding-behaviors.md","dest":"docs/binding/binding-behaviors","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"throttle","name":"throttle"},{"id":"debounce","name":"debounce"},{"id":"updatetrigger","name":"updateTrigger"},{"id":"signal","name":"signal"},{"id":"onetime","name":"oneTime"},{"id":"self","name":"self"},{"id":"custom-binding-behaviors","name":"Custom binding behaviors"}]},{"name":"Binding: Observables","description":"Using observables with Aurelia.","src":"../documentation/current/en-us/4. binding/10. observable-properties.md","dest":"docs/binding/observable-properties","featured":false,"items":[{"id":"observable-properties","name":"Observable Properties"},{"id":"observing-collections","name":"Observing Collections"}]},{"name":"Binding: How it Works","description":"How data-binding works in Aurelia.","src":"../documentation/current/en-us/4. binding/11. how-it-works.md","dest":"docs/binding/how-it-works","featured":false,"items":[{"id":"end-to-end","name":"End to End"},{"id":"abstract-syntax-tree","name":"Abstract Syntax Tree"},{"id":"binding-context-scope","name":"Binding Context / Scope"}]}]},{"name":"Templating","description":"Learn all about Aurelia's powerful templating engine.","dest":"docs/templating","items":[{"name":"Templating: Basics","description":"A basic guide to using Aurelia's templating engine.","src":"../documentation/current/en-us/5. templating/1. basics.md","dest":"docs/templating/basics","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"a-simple-template","name":"A Simple Template"},{"id":"binding","name":"Binding"},{"id":"composition","name":"Composition"},{"id":"the-as-element-attribute","name":"The as-element Attribute"},{"id":"the-view-resource-pipeline","name":"The View Resource Pipeline"},{"id":"view-and-compilation-spies","name":"View and Compilation Spies"},{"id":"conditionals","name":"Conditionals"},{"id":"repeaters","name":"Repeaters"}]},{"name":"Templating: HTML Behaviors Introduction","description":"An overview of the Aurelia templating engine's custom attribute and custom element functionality, including not only how to create basic versions, but how to use them both locally and globally in your application.","src":"../documentation/current/en-us/5. templating/2. html-behaviors.md","dest":"docs/templating/html-behaviors","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"what-is-an-html-behavior","name":"What is an HTML Behavior?"},{"id":"getting-the-dom-element-for-your-behavior","name":"Getting the DOM Element for your Behavior"},{"id":"making-an-html-behavior-available-in-a-view","name":"Making an HTML Behavior Available in a View"},{"id":"global-resources","name":"Global Resources"},{"id":"creating-bindable-properties-on-an-html-behavior","name":"Creating Bindable Properties on an HTML Behavior"},{"id":"inheritance-with-html-behaviors","name":"Inheritance with HTML Behaviors"},{"id":"html-only-custom-elements","name":"HTML-Only Custom Elements"},{"id":"html-behavior-lifecycle","name":"HTML Behavior Lifecycle"},{"id":"conclusion","name":"Conclusion"}]},{"name":"Templating: Custom Attributes","description":"An overview of the Aurelia templating engine's custom attribute functionality. Custom Attributes are used to add custom behaviors to DOM elements.","src":"../documentation/current/en-us/5. templating/3. custom-attributes.md","dest":"docs/templating/custom-attributes","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"simple-custom-attribute","name":"Simple Custom Attribute"},{"id":"explicit-attribute-naming","name":"Explicit Attribute Naming"},{"id":"single-value-binding","name":"Single Value Binding"},{"id":"options-binding","name":"Options Binding"},{"id":"default-option","name":"Default Option"},{"id":"dynamic-options-binding","name":"Dynamic Options Binding"},{"id":"globally-accessible-custom-attributes","name":"Globally Accessible Custom Attributes"}]},{"name":"Templating: Custom Elements Basics","description":"An overview of the Aurelia templating engine's custom element functionality basics. Custom Elements are used to add custom components to Aurelia applications.","src":"../documentation/current/en-us/5. templating/4. custom-elements.md","dest":"docs/templating/custom-elements","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"html-only-custom-element","name":"HTML Only Custom Element"},{"id":"custom-element-basics","name":"Custom Element Basics"},{"id":"bindable-properties","name":"Bindable Properties"},{"id":"declarative-computed-values","name":"Declarative Computed Values"},{"id":"surrogate-behaviors","name":"Surrogate behaviors"},{"id":"basic-content-projection","name":"Basic Content Projection"},{"id":"decorators-for-customizing-aurelia-custom-element-processing","name":"Decorators for Customizing Aurelia Custom Element Processing"}]},{"name":"Templating: Content Projection","description":"An overview of the Aurelia templating engine's custom element content projection functionality.","src":"../documentation/current/en-us/5. templating/5. content-projection.md","dest":"docs/templating/content-projection","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"basic-content-projection","name":"Basic Content Projection"},{"id":"named-slots","name":"Named Slots"},{"id":"fallback-slots","name":"Fallback Slots"},{"id":"slot-implementation-limitations","name":"Slot Implementation Limitations"}]},{"name":"Templating: Dynamic UI Composition","description":"An overview of Aurelia's dynamic template composition functionality.","src":"../documentation/current/en-us/5. templating/6. dynamic-ui-composition.md","dest":"docs/templating/dynamic-ui-composition","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"basic-composition","name":"Basic Composition"},{"id":"composing-without-a-view-model","name":"Composing Without a View-Model"},{"id":"passing-through-data","name":"Passing Through Data"}]}]},{"name":"Routing","description":"Learn how to setup and configure Aurelia's router.","dest":"docs/routing","items":[{"name":"Router Configuration","description":"This article covers Aurelia's router configuration.","src":"../documentation/current/en-us/6. routing/1. configuration.md","dest":"docs/routing/configuration","featured":false,"items":[{"id":"basic-configuration","name":"Basic Configuration"},{"id":"options","name":"Options"},{"id":"dynamically-specify-route-components","name":"Dynamically Specify Route Components"},{"id":"adding-additional-data-to-a-route","name":"Adding Additional Data To A Route"},{"id":"case-sensitive-routes","name":"Case Sensitive Routes"},{"id":"handling-unknown-routes","name":"Handling Unknown Routes"},{"id":"redirecting-routes","name":"Redirecting Routes"},{"id":"pipelines","name":"Pipelines"},{"id":"router-events","name":"Router Events"},{"id":"rendering-view-ports","name":"Rendering View Ports"},{"id":"layouts","name":"Layouts"},{"id":"view-swapping-and-animation","name":"View Swapping and Animation"},{"id":"internationalizing-titles","name":"Internationalizing Titles"},{"id":"configuring-a-fallback-route","name":"Configuring a Fallback Route"},{"id":"reusing-an-existing-view-model","name":"Reusing an Existing View Model"}]},{"name":"Handling Links","description":"This article covers Aurelia's default behavior on handling links.","src":"../documentation/current/en-us/6. routing/2. handling-links.md","dest":"docs/routing/handling-links","featured":false,"items":[{"id":"basic-concept","name":"Basic Concept"},{"id":"skipping-click-hijacking","name":"Skipping Click Hijacking"},{"id":"conditional-skipping-click-hijacking","name":"Conditional Skipping Click Hijacking"}]}]},{"name":"Plugins","description":"Learn about Aurelia's officially supported plugins and how to use them.","dest":"docs/plugins","items":[{"name":"HTTP Services","description":"Usually JavaScript applications need to get their data from or communicate with various web services. In this article we'll take a look at the options Aurelia makes available to you.","src":"../documentation/current/en-us/7. plugins/1. http-services.md","dest":"docs/plugins/http-services","featured":false,"items":[{"id":"options","name":"Options"},{"id":"aurelia-fetch-client","name":"aurelia-fetch-client"},{"id":"aurelia-http-client","name":"aurelia-http-client"}]},{"name":"Managing App State","description":"Using the Aurelia Store plugin for predictable state management.","src":"../documentation/current/en-us/7. plugins/2. store.md","dest":"docs/plugins/store","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"getting-started","name":"Getting Started"},{"id":"bring-your-own-polyfills-byop","name":"Bring your own polyfills (BYOP)"},{"id":"what-is-the-state","name":"What is the State?"},{"id":"configuring-your-app","name":"Configuring your app"},{"id":"subscribing-to-the-stream-of-states","name":"Subscribing to the stream of states"},{"id":"subscribing-with-the-connectto-decorator","name":"Subscribing with the connectTo decorator"},{"id":"what-are-actions","name":"What are actions?"},{"id":"async-actions","name":"Async actions"},{"id":"dispatching-actions","name":"Dispatching actions"},{"id":"using-the-dispatchify-higher-order-function","name":"Using the dispatchify higher order function"},{"id":"resetting-the-store-to-a-specific-state","name":"Resetting the store to a specific state"},{"id":"two-way-binding-and-state-management","name":"Two-way binding and state management"},{"id":"recording-a-navigable-history-of-the-stream-of-states","name":"Recording a navigable history of the stream of states"},{"id":"making-our-app-history-aware","name":"Making our app history-aware"},{"id":"limiting-the-number-of-history-items","name":"Limiting the number of history items"},{"id":"handling-side-effects-with-middleware","name":"Handling side-effects with middleware"},{"id":"accessing-the-original-unmodified-state-in-a-middleware","name":"Accessing the original (unmodified) state in a middleware"},{"id":"defining-settings-for-middlewares","name":"Defining settings for middlewares"},{"id":"reference-to-the-calling-action-for-middlewares","name":"Reference to the calling action for middlewares"},{"id":"error-propagation-with-middlewares","name":"Error propagation with middlewares"},{"id":"default-middlewares","name":"Default middlewares"},{"id":"execution-order","name":"Execution order"},{"id":"tracking-overall-performance","name":"Tracking overall performance"},{"id":"debugging-with-the-redux-devtools-extension","name":"Debugging with the Redux DevTools extension"},{"id":"defining-custom-devtoolsoptions","name":"Defining custom devToolsOptions"},{"id":"defining-custom-loglevels","name":"Defining custom LogLevels"},{"id":"comparison-to-other-state-management-libraries","name":"Comparison to other state management libraries"}]},{"name":"Validation","description":"The basics of validation with Aurelia.","src":"../documentation/current/en-us/7. plugins/3. validation.md","dest":"docs/plugins/validation","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"defining-rules","name":"Defining Rules"},{"id":"customizing-messages","name":"Customizing Messages"},{"id":"validation-controller","name":"Validation Controller"},{"id":"validator","name":"Validator"},{"id":"validate-binding-behavior","name":"Validate Binding Behavior"},{"id":"displaying-errors","name":"Displaying Errors"},{"id":"custom-renderers","name":"Custom Renderers"},{"id":"entity-validation","name":"Entity Validation"},{"id":"custom-rules","name":"Custom Rules"},{"id":"multiple-validation-controllers","name":"Multiple Validation Controllers"},{"id":"integration-with-other-libraries","name":"Integration With Other Libraries"},{"id":"integrating-with-aurelia-i18n","name":"Integrating with Aurelia-I18N"},{"id":"server-side-validation","name":"Server-Side Validation"}]},{"name":"I18N","description":"Getting Started with I18N in your Aurelia App.","src":"../documentation/current/en-us/7. plugins/4. i18n.md","dest":"docs/plugins/i18n","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"installing-the-plugin","name":"Installing the Plugin"},{"id":"setting-up-the-plugin","name":"Setting up the Plugin"},{"id":"typescript-support","name":"TypeScript Support"},{"id":"using-the-plugin","name":"Using the Plugin"},{"id":"bundle-translation-files","name":"Bundle Translation Files"},{"id":"internationalization-api-polyfill","name":"Internationalization API Polyfill"}]},{"name":"Dialogs","description":"The basics of the dialog plugin for Aurelia.","src":"../documentation/current/en-us/7. plugins/5. dialog.md","dest":"docs/plugins/dialog","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"installing-the-plugin","name":"Installing The Plugin"},{"id":"configuring-the-plugin","name":"Configuring The Plugin"},{"id":"using-the-plugin","name":"Using The Plugin"},{"id":"default-resourcescustom-elementsattributes","name":"Default Resources(custom elements/attributes)"},{"id":"settings","name":"Settings"},{"id":"accessing-the-dialogcontroller-api","name":"Accessing The DialogController API"},{"id":"styling-the-dialog","name":"Styling The Dialog"},{"id":"lifecycle-hooks","name":"Lifecycle Hooks"}]},{"name":"Animation","description":"The basics of using the animation plugin for Aurelia.","src":"../documentation/current/en-us/7. plugins/6. animation.md","dest":"docs/plugins/animation","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"installing-the-plugin","name":"Installing The Plugin"},{"id":"configuring-the-plugin","name":"Configuring The Plugin"},{"id":"demo","name":"Demo"},{"id":"using-the-plugin","name":"Using The Plugin"},{"id":"working-with-default-animation-triggers","name":"Working with Default Animation Triggers"},{"id":"summary","name":"Summary"}]},{"name":"Virtualization","description":"The basics of using the ui-virtualization plugin for Aurelia.","src":"../documentation/current/en-us/7. plugins/7. virtualization.md","dest":"docs/plugins/virtualization","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"installing-the-plugin","name":"Installing The Plugin"},{"id":"configuring-the-plugin","name":"Configuring The Plugin"},{"id":"using-the-plugin","name":"Using The Plugin"},{"id":"infinite-scroll","name":"Infinite Scroll"},{"id":"caveats","name":"Caveats"}]},{"name":"Write New Plugin","description":"A tutorial on how to write a new Aurelia plugin.","src":"../documentation/current/en-us/7. plugins/8.write-new-plugin.md","dest":"docs/plugins/write-new-plugin","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"setup","name":"Setup"},{"id":"structure-of-plugin","name":"Structure of Plugin"},{"id":"develop-plugin","name":"Develop Plugin"},{"id":"advanced-usage","name":"Advanced Usage"}]}]},{"name":"Integration","description":"Learn how to integrate Aurelia with various other libraries and frameworks.","dest":"docs/integration","items":[{"name":"Integrating with Polymer","description":"Polymer is a library for creating reusable web components declaratively with extra features like data binding and property observation. In many ways, it is similar to Aurelia's component support. However, Polymer also includes an extensive catalog of custom elements for everything from material design to credit card forms to embedding Google services like Google Maps and YouTube. With a bit of work, these components can be incorporated into Aurelia applications as well.","src":"../documentation/current/en-us/8. integration/1. polymer.md","dest":"docs/integration/polymer","featured":false,"items":[{"id":"setup","name":"Setup"},{"id":"importing-elements","name":"Importing Elements"},{"id":"data-binding","name":"Data Binding"},{"id":"forms-and-two-way-binding","name":"Forms and Two-Way Binding"},{"id":"how-the-plugin-works","name":"How the Plugin Works"}]}]},{"name":"Testing","description":"Learn all about testing Aurelia apps, including component testing and e2e testing.","dest":"docs/testing","items":[{"name":"Testing Components","description":"An overview of how to unit test Custom Elements and Custom Attributes.","src":"../documentation/current/en-us/9. testing/1. components.md","dest":"docs/testing/components","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"getting-started","name":"Getting Started"},{"id":"testing-a-custom-element","name":"Testing a Custom Element"},{"id":"manually-handling-lifecycle","name":"Manually handling lifecycle"},{"id":"testing-a-custom-attribute","name":"Testing a Custom Attribute"},{"id":"testing-custom-component-with-a-real-view-model","name":"Testing custom component with a real view-model"},{"id":"using-a-real-parent-view-model","name":"Using a Real Parent View-model"},{"id":"improving-readability-with-multi-line-strings","name":"Improving Readability with Multi-line Strings"},{"id":"helpful-properties-and-functions","name":"Helpful Properties and Functions"},{"id":"testing-complex-components","name":"Testing complex components"}]},{"name":"End to End Testing","description":"Testing front-end applications has become an important task for today's developers. Not only do you want to ensure that your application's internal code operates correctly, but you also want to validate the in-browser behavior. This article will show you how to achieve this by combining Aurelia and Protractor.","src":"../documentation/current/en-us/9. testing/2. end-to-end.md","dest":"docs/testing/end-to-end","featured":false,"items":[{"id":"what-is-e2e-testing","name":"What is E2E testing?"},{"id":"how-are-e2e-tests-different","name":"How are E2E tests different?"},{"id":"protractor","name":"Protractor"},{"id":"a-basic-example","name":"A Basic Example"},{"id":"accessing-dom-elements","name":"Accessing DOM Elements"},{"id":"interacting-with-forms","name":"Interacting with Forms"},{"id":"protractor-and-aurelia","name":"Protractor and Aurelia"},{"id":"testing-the-aurelia-skeleton-navigation-app","name":"Testing the Aurelia Skeleton Navigation App"},{"id":"page-objects","name":"Page Objects"},{"id":"test-specification","name":"Test Specification"},{"id":"summary","name":"Summary"}]}]},{"name":"Server Side Rendering","description":"Learn about Server Side Rendering with Aurelia and how to configure your project.","dest":"docs/ssr","items":[{"name":"Server Side Rendering","description":"An introduction to server-side rendering with Aurelia.","src":"../documentation/current/en-us/10. ssr/1. introduction.md","dest":"docs/ssr/introduction","featured":false,"items":[{"id":"what-is-server-side-rendering","name":"What is Server Side Rendering?"},{"id":"caveats","name":"Caveats"},{"id":"how-it-works","name":"How It Works"},{"id":"isomorphic-code","name":"Isomorphic Code"},{"id":"memory-management","name":"Memory Management"},{"id":"different-main-entry-points","name":"Different Main Entry Points"},{"id":"404-pages","name":"404 pages"},{"id":"skeleton-with-ssr-pre-configured","name":"Skeleton with SSR Pre-Configured"}]}]},{"name":"CLI","description":"Learn how to create, build, bundle and test your apps using all your favorite tools, facilitated by the Aurelia CLI.","dest":"docs/cli","items":[{"name":"Basics","description":"The basics of the Aurelia CLI.","src":"../documentation/current/en-us/11. cli/1. basics.md","dest":"docs/cli/basics","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"machine-setup","name":"Machine Setup"},{"id":"creating-a-new-aurelia-project","name":"Creating A New Aurelia Project"},{"id":"creating-a-new-aurelia-plugin-project","name":"Creating A New Aurelia Plugin Project"},{"id":"running-your-aurelia-app","name":"Running Your Aurelia App"},{"id":"environments","name":"Environments"},{"id":"building-your-app","name":"Building Your App"},{"id":"generators","name":"Generators"},{"id":"aureliajson","name":"Aurelia.json"},{"id":"webpack-vs-built-in-bundler","name":"Webpack vs Built-in Bundler"},{"id":"what-if-i-need-help","name":"What if I need help?"}]},{"name":"Gulp Tasks","description":"Gulp tasks using the Aurelia CLI.","src":"../documentation/current/en-us/11. cli/2. tasks.md","dest":"docs/cli/tasks","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"task-execution","name":"Task execution"},{"id":"creating-a-new-task","name":"Creating a new task"},{"id":"task-metadata","name":"Task metadata"}]},{"name":"Webpack","description":"Webpack and the Aurelia CLI.","src":"../documentation/current/en-us/11. cli/3. webpack.md","dest":"docs/cli/webpack","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"platformmodulename","name":"PLATFORM.moduleName"},{"id":"running-the-application","name":"Running the application"},{"id":"deploying-your-app","name":"Deploying Your App"},{"id":"build-options","name":"Build options"},{"id":"installing-3rd-party-dependencies","name":"Installing 3rd party dependencies"},{"id":"unit-testing","name":"Unit Testing"},{"id":"aspnet-core","name":"ASP.NET Core"}]},{"name":"Built-in Bundler","description":"The CLI Built-in Bundler is an alternative bundler to Webpack. It provides similar capabilities but with much simpler configuration. If you have little or no experience with Webpack, we recommend our built-in bundler.","dest":"docs/cli/cli-bundler","items":[{"name":"CLI's built-in Bundler","description":"Basics features of the Aurelia CLI's built-in Bundler.","src":"../documentation/current/en-us/11. cli/4. cli-bundler/1. basics.md","dest":"docs/cli/cli-bundler/basics","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"aspnet-core","name":"ASP.NET Core"},{"id":"running-the-application","name":"Running the application"},{"id":"deploying-your-app","name":"Deploying Your App"},{"id":"unit-testing","name":"Unit Testing"},{"id":"build-revisions","name":"Build Revisions"},{"id":"caching","name":"Caching"},{"id":"bundling-and-code-splitting","name":"Bundling And Code Splitting"},{"id":"adding-client-libraries-to-your-project","name":"Adding Client Libraries to Your Project"},{"id":"copy-other-files-eg-fonts","name":"Copy Other Files (e.g. fonts)"},{"id":"setting-the-baseurl","name":"Setting the baseUrl"},{"id":"styling-your-application","name":"Styling your Application"},{"id":"updating-a-single-library","name":"Updating A Single Library"},{"id":"updating-multiple-libraries","name":"Updating Multiple Libraries"},{"id":"javascript-minification","name":"Javascript Minification"},{"id":"path-mappings","name":"Path mappings"}]},{"name":"CLI's built-in Bundler Dependency Management","description":"Dependency Management of the CLI built-in Bundler.","src":"../documentation/current/en-us/11. cli/4. cli-bundler/2. dependency-management.md","dest":"docs/cli/cli-bundler/dependency-management","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"auto-tracing","name":"Auto Tracing"},{"id":"manual-tracing","name":"Manual Tracing"},{"id":"prepend","name":"Prepend"},{"id":"shim","name":"Shim"},{"id":"au-run-auto-install","name":"au run --auto-install"}]},{"name":"CLI + built-in Bundler Advanced","description":"Advanced Usage of the CLI built-in Bundler.","src":"../documentation/current/en-us/11. cli/4. cli-bundler/3. advanced.md","dest":"docs/cli/cli-bundler/advanced","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"onrequiringmodule","name":"onRequiringModule"},{"id":"global-wrapshim","name":"Global wrapShim"},{"id":"npm-package-alias","name":"Npm package alias"},{"id":"local-copy-of-npm-package","name":"Local copy of npm package"},{"id":"lazy-bundling-of-main-file","name":"Lazy bundling of main file"}]},{"name":"CLI's built-in Bundler Cookbook","description":"Recipes for common usage of CLI's built-in bundler","src":"../documentation/current/en-us/11. cli/4. cli-bundler/4. cook-book.md","dest":"docs/cli/cli-bundler/cook-book","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"jquery","name":"jQuery"},{"id":"normalizecss","name":"normalize.css"},{"id":"bootstrap-css-v4","name":"Bootstrap CSS v4"},{"id":"customize-bootstrap-css-v4","name":"Customize Bootstrap CSS v4"},{"id":"bootstrap-css-v3-legacy","name":"Bootstrap CSS v3 (legacy)"},{"id":"font-awesome-v5-free","name":"Font Awesome v5 Free"},{"id":"font-awesome-v4","name":"Font Awesome v4"},{"id":"foundation-css-v6","name":"Foundation CSS v6"},{"id":"materialize-css-v1","name":"Materialize CSS v1"},{"id":"typeorm-with-shimmed-decorators","name":"TypeORM with shimmed decorators"}]}]},{"name":"Migrating","description":"Migrate from CLI built-in bundler to Webpack, or from old built-in bundler to new auto-tracing bundler.","src":"../documentation/current/en-us/11. cli/5. migrating.md","dest":"docs/cli/migrating","featured":false,"items":[{"id":"from-cli-bundler-to-webpack","name":"From CLI Bundler to Webpack"},{"id":"upgrade-to-auto-tracing-bundler-100-beta1-or-above","name":"Upgrade to Auto-Tracing Bundler (1.0.0-beta.1 or above)"},{"id":"update-3rd-party-plugin-installation-guide","name":"Update 3rd party plugin installation guide"}]},{"name":"Updating","description":"The process of updating the Aurelia CLI.","src":"../documentation/current/en-us/11. cli/6. updating.md","dest":"docs/cli/updating","featured":false,"items":[{"id":"updating-the-aurelia-cli","name":"Updating the Aurelia CLI"}]},{"name":"Recipes & known issues","description":"In this section you can find examples of particular setups, known issues and possible workarounds","src":"../documentation/current/en-us/11. cli/7. recipes.md","dest":"docs/cli/recipes","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"aurelia-cli-bundler-docker","name":"Aurelia-CLI bundler + Docker"},{"id":"npm-uninstalling-packages","name":"NPM uninstalling packages"},{"id":"building-with-tfs","name":"Building with TFS"}]}]},{"name":"Build Systems","description":"Various systems for building and bundling Aurelia apps.","dest":"docs/build-systems","items":[{"name":"Webpack","description":"Setup and bundling using the Webapck system.","dest":"docs/build-systems/webpack","items":[{"name":"A Basic Example","description":"If you're interested in setting up Webpack from scratch to build projects, this article will give you everything you need to know.","src":"../documentation/current/en-us/12. build-systems/1. webpack/1. a-basic-example.md","dest":"docs/build-systems/webpack/a-basic-example","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"platformmodulename","name":"PLATFORM.moduleName"},{"id":"webpack-documentation","name":"Webpack Documentation"},{"id":"basic-config-example","name":"Basic Config Example"},{"id":"other-files-used","name":"Other Files Used"}]}]},{"name":"JSPM","description":"Setup and bundling using the JSPM system.","dest":"docs/build-systems/jspm","items":[{"name":"Setup with JSPM","description":"If you're interested in getting setup with JSPM to build projects, this article will take you through setting up both your machine and a production quality starter project.","src":"../documentation/current/en-us/12. build-systems/2. jspm/1. setup.md","dest":"docs/build-systems/jspm/setup","featured":false,"items":[{"id":"configuring-your-environment","name":"Configuring Your Environment"},{"id":"setting-up-the-project-structure-and-build","name":"Setting up the Project Structure and Build"},{"id":"running-the-app","name":"Running The App"},{"id":"running-the-unit-tests","name":"Running The Unit Tests"},{"id":"running-the-e2e-tests","name":"Running The E2E Tests"}]},{"name":"Bundling with JSPM","description":"Before deploying your app to production, you'll want to bundle the assets for efficient use of the network.","src":"../documentation/current/en-us/12. build-systems/2. jspm/2. bundling.md","dest":"docs/build-systems/jspm/bundling","featured":false,"items":[{"id":"introduction","name":"Introduction"},{"id":"bundling","name":"Bundling "},{"id":"bundling-an-aurelia-jspm-application","name":"Bundling an Aurelia JSPM Application"},{"id":"multiple-bundles","name":"Multiple Bundles"},{"id":"bundling-a-jspm-v017-app","name":"Bundling a JSPM v0.17 App"},{"id":"duplicate-modules-in-multiple-bundles","name":"Duplicate Modules in Multiple Bundles"},{"id":"bundle-configuration","name":"Bundle Configuration"},{"id":"bundling-html-imports","name":"Bundling HTML Imports"},{"id":"conclusion","name":"Conclusion"}]}]}]}]},"search":true,"footer":{"copyright":"Copyright © 2010 - 2019 <a href=\"http://www.bluespire.com\">Blue Spire Inc.</a> Code licensed under the MIT License. Content licensed under CC0.","columns":[{"name":"Resources","links":[{"href":"docs/overview/what-is-aurelia","text":"About"},{"href":"blog","text":"Blog"},{"href":"http://eepurl.com/ces50j","text":"Newsletter"}]},{"name":"Help","links":[{"href":"https://discourse.aurelia.io/","text":"Discourse"},{"href":"https://gitter.im/aurelia/Discuss","text":"Gitter"},{"href":"https://stackoverflow.com/search?q=aurelia","text":"Stack Overflow"}]},{"name":"Community","links":[{"href":"https://github.com/aurelia","text":"GitHub"},{"href":"https://twitter.com/aureliaeffect","text":"Twitter"},{"href":"https://github.com/orgs/aurelia/people","text":"Team"}]}]}};
  </script>

  <script src="scripts/aurelia-docs-1882c78c11.js" data-main="aurelia-bootstrapper"></script>
</body>

</html>
