{"name":"Aurelia 2 Update - Alpha 33","description":"New official plugin, testing tool improvement, event handling, hmr and lifecycle hooks.","author":{"name":"bigopon"},"links":{"static":"blog\\2022\\6\\1\\aurelia-2-update-alpha-33","html":"blog\\2022\\6\\1\\aurelia-2-update-alpha-33\\index.html","fragment":"blog\\2022\\6\\1\\aurelia-2-update-alpha-33\\index-fragment.html","self":"blog\\2022\\6\\1\\aurelia-2-update-alpha-33\\index.json"},"content":"\r\n\r\nSince the last v2 update, the focus of the Aurelia team has been around the prepartion for beta, with testing tools improvement, better ergonomic in common templating use cases. Belows are the highlights of the features/improvements over the last few alpha versions.\r\n\r\n## Alpha 33\r\n\r\nThe new [State plugin](https://docs.aurelia.io/developer-guides/state) has been published and is ready to use and collect feedback. This is the intended to be the successor of the [v1 store plugin](http://aurelia.io/docs/plugins/store). With this plugin, template bindings can be connected to the singleton state via a simple `.state` binding command, or `& state` binding behavior:\r\n\r\n```html\r\n<input value.state=\"keywords\">\r\n<p>Keywords in app state is: ${keywords & state}</p>\r\n```\r\n\r\nMutation request can now also be done directly from the template, with a `.dispatch` binding command:\r\n```html\r\n<input value.state=\"keywords\" input.dispatch=\"{ type: 'keywords', params: [$event.target.value] }\">\r\n```\r\n\r\nConnecting templates to the global state isn't always the case, sometimes it's desirable to connect a view model property to the global state too, and the `@fromState` decorator can be used to simplify the task:\r\n\r\n```ts\r\nimport { fromState } from '@aurelia/state';\r\n\r\nexport class SearchAutoSuggest {\r\n  @fromState(state => state.keywords)\r\n  keywords\r\n}\r\n```\r\n\r\nWith these tools, it is anticipated that applications employing singleton or v1 store like patterns will be able to greatly simplify their code, reducing a good amount of boilerplate.\r\n\r\n## Alpha 32\r\n\r\nIn this release, first core templating lifecycle hook `created` support is added. It is now simple to have shared logic that hooks into component `created` lifecycle:\r\n```ts\r\nimport { lifecycleHooks } from 'aurelia';\r\n\r\n@lifecycleHooks\r\nexport class CreatedHook {\r\n  created(viewModel, controller) {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nBeside this, `hydrating` and `hydrated` support also follows in [alpha 33](#alpha-33), and hooking into them is similar to `created` lifecycle:\r\n```ts\r\nimport { lifecycleHooks } from 'aurelia';\r\n\r\n@lifecycleHooks\r\nexport class HydratingHook {\r\n  hydrating(viewModel, controller) {\r\n    ...\r\n  }\r\n}\r\n\r\n@lifecycleHooks\r\nexport class HydratedHook {\r\n  hydrated(viewModel, controller) {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nIt is also fine to combine all hooks into a single class:\r\n```ts\r\n@lifecycleHooks\r\nexport class LoggingHook {\r\n  created(viewModel, controller) {\r\n    console.log({ viewModel, controller })\r\n  }\r\n  hydrating(viewModel, controller) {\r\n    console.log({ viewModel, controller })\r\n  }\r\n  hydrated(viewModel, controller) {\r\n    console.log({ viewModel, controller })\r\n  }\r\n}\r\n```\r\n\r\n## Alpha 31\r\n\r\nA new builder pattern added, assertion methods of a test fixture are returned together with other properties, makeing it a lot simpler, less boilerplate-y to write tests. This will be improved more in a near future with many of  helpers/shortcuts to make Aurelia application test authoring a pleasure experience.\r\n\r\n## Alpha 30\r\n\r\nWith a view model that looks like this\r\n```ts\r\nexport class MyButton {\r\n  onClick(event) {\r\n    ...\r\n  }\r\n}\r\n```\r\nIn the template of this, it's sometimes desirable to have\r\n```html\r\n<button click.trigger=\"onClick\">\r\n```\r\nrather than\r\n```html\r\n<button click.trigger=\"onClick($event)\">\r\n```\r\n\r\nThanks to [brandonseydel](https://github.com/brandonseydel), it is now possible to write event handler like the former.\r\n\r\nAnother awesome contribution from Brandon in this release is Hot Module Reload (HMR). Support for HMR has also been added for webpack, HMR now works for all aurelia component including HTML only elements.\r\n\r\n## Until next time\r\n\r\nThank you to everyone for their continued support, especially those who have contributed to Aurelia 2 and helped get it to its current point. If you ever have any questions or issues, please don't hesitate to reach out. The best place to ask questions is on the [Aurelia Discourse](https://discourse.aurelia.io/) and any bugs or feature requests on [the Aurelia GitHub](https://github.com/aurelia/aurelia/issues). Or maybe just come over to the [Aurelia Discord channel for some chat](https://discord.gg/RBtyM6u)."}